<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>10&nbsp; Deskriptivstatistiken – Probabilistische Datenwissenschaft für die Psychologie</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Referenzen.html" rel="next">
<link href="./109-Matrizen.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-ca3ba20d3bce705d7fcc85d020c3372b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Probabilistische Datenwissenschaft für die Psychologie</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
    <a href="https://github.com/dirk-ostwald/dirk-ostwald.github.io/tree/gh-pages" title="Quellcode" class="quarto-navigation-tool px-1" aria-label="Quellcode"><i class="bi bi-github"></i></a>
    <a href="./Probabilistische-Datenwissenschaft-für-die-Psychologie.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
</div>
          <div id="quarto-search" class="" title="Suchen"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./100-Mathematische-Grundlagen.html">Mathematische Grundlagen</a></li><li class="breadcrumb-item"><a href="./110-Deskriptivstatistiken.html"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Deskriptivstatistiken</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Willkommen</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./100-Mathematische-Grundlagen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mathematische Grundlagen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./101-Sprache-und-Logik.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Sprache und Logik</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./102-Mengen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Mengen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./103-Summen-Produkte-Potenzen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Summen, Produkte, Potenzen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./104-Funktionen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Funktionen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./105-Folgen-Grenzwerte-Stetigkeit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Folgen, Grenzwerte, Stetigkeit</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./106-Differentialrechnung.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Differentialrechnung</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./107-Integralrechnung.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Integralrechnung</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./108-Vektoren.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Vektoren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./109-Matrizen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Matrizen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./110-Deskriptivstatistiken.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Deskriptivstatistiken</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Referenzen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Referenzen</span></a>
  </div>
</li>
    </ul>
    </div>
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#anwendungsbeispiel" id="toc-anwendungsbeispiel" class="nav-link active" data-scroll-target="#anwendungsbeispiel">Anwendungsbeispiel</a></li>
  <li><a href="#sec-haeufigkeitsverteilungen" id="toc-sec-haeufigkeitsverteilungen" class="nav-link" data-scroll-target="#sec-haeufigkeitsverteilungen"><span class="header-section-number">10.1</span> Häufigkeitsverteilungen</a></li>
  <li><a href="#sec-histogramme" id="toc-sec-histogramme" class="nav-link" data-scroll-target="#sec-histogramme"><span class="header-section-number">10.2</span> Histogramme</a></li>
  <li><a href="#sec-empirische-verteilungsfunktionen" id="toc-sec-empirische-verteilungsfunktionen" class="nav-link" data-scroll-target="#sec-empirische-verteilungsfunktionen"><span class="header-section-number">10.3</span> Empirische Verteilungsfunktionen</a></li>
  <li><a href="#sec-quantile-und-boxplots" id="toc-sec-quantile-und-boxplots" class="nav-link" data-scroll-target="#sec-quantile-und-boxplots"><span class="header-section-number">10.4</span> Quantile und Boxplots</a></li>
  <li><a href="#sec-masse-der-zentralen-tendenz" id="toc-sec-masse-der-zentralen-tendenz" class="nav-link" data-scroll-target="#sec-masse-der-zentralen-tendenz"><span class="header-section-number">10.5</span> Maße der Zentralen Tendenz</a>
  <ul class="collapse">
  <li><a href="#sec-mittelwert" id="toc-sec-mittelwert" class="nav-link" data-scroll-target="#sec-mittelwert"><span class="header-section-number">10.5.1</span> Mittelwert</a></li>
  <li><a href="#sec-median" id="toc-sec-median" class="nav-link" data-scroll-target="#sec-median"><span class="header-section-number">10.5.2</span> Median</a></li>
  <li><a href="#sec-modalwert" id="toc-sec-modalwert" class="nav-link" data-scroll-target="#sec-modalwert"><span class="header-section-number">10.5.3</span> Modalwert</a></li>
  <li><a href="#datenverteilungsformen-und-maße-zentraler-tendenz" id="toc-datenverteilungsformen-und-maße-zentraler-tendenz" class="nav-link" data-scroll-target="#datenverteilungsformen-und-maße-zentraler-tendenz"><span class="header-section-number">10.5.4</span> Datenverteilungsformen und Maße zentraler Tendenz</a></li>
  </ul></li>
  <li><a href="#sec-masse-der-variabilitaet" id="toc-sec-masse-der-variabilitaet" class="nav-link" data-scroll-target="#sec-masse-der-variabilitaet"><span class="header-section-number">10.6</span> Maße der Variabilität</a>
  <ul class="collapse">
  <li><a href="#sec-spannbreite" id="toc-sec-spannbreite" class="nav-link" data-scroll-target="#sec-spannbreite"><span class="header-section-number">10.6.1</span> Spannbreite</a></li>
  <li><a href="#sec-empirische-varianz" id="toc-sec-empirische-varianz" class="nav-link" data-scroll-target="#sec-empirische-varianz"><span class="header-section-number">10.6.2</span> Empirische Varianz</a></li>
  <li><a href="#sec-empirische-standardabweichung" id="toc-sec-empirische-standardabweichung" class="nav-link" data-scroll-target="#sec-empirische-standardabweichung"><span class="header-section-number">10.6.3</span> Empirische Standardabweichung</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/dirk-ostwald/dirk-ostwald.github.io/tree/gh-pages/edit/main/110-Deskriptivstatistiken.qmd" class="toc-action"><i class="bi bi-github"></i>Seite editieren</a></li></ul></div></nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./100-Mathematische-Grundlagen.html">Mathematische Grundlagen</a></li><li class="breadcrumb-item"><a href="./110-Deskriptivstatistiken.html"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Deskriptivstatistiken</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-deskriptivstatistiken" class="quarto-section-identifier"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Deskriptivstatistiken</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Ziel der Auswertung von Deskriptivstatistiken ist es, Datensätze möglichst effizient der menschlichen Betrachtung zugänglich zu machen. Sobald die Anzahl der Datenpunkte eines Datensatzes eine gewisse Anzahl überschreitet, sind reine Zahlendarstellungen für die menschliche Kognition meist eher schwer zu erfassen. Hier setzt die Deskriptivstatistik an und bietet neben graphischen Darstellungen größerer Datensätze auch Maßzahlen an, die im Sinne der Datenreduktion bestimmte charakteristische Aspekte eines Datensatzes, wie seinen “durchschnittlichen” Wert oder seine Variabilität beschreiben. In diesem Abschnitt wollen wir mit den univariaten Deskriptivstatistiken erste Verfahren und Maße kennenlernen, die es erlauben, Datensätze, in denen pro Studieneinheit eine Zahl vorliegt, zusammenzufassen. Wir betrachten dabei insbesonder <em>Häufigkeitsverteilungen</em> und <em>Histogramme</em>, <em>Verteilungsfunktionen</em> und <em>Quantile</em>, sowie <em>Maße der zentralen Tendenz</em>, die Aussagen über “durchschnittliche” Datenwerte erlauben und <em>Maße der Datenvariabilität</em>, die Aussagen über die Streuung der Datenwerte erlauben.</p>
<p>In Abgrenzung zur probabilistischen Modellierung im Rahmen der Frequentistischen und Bayesianischen Inferenz basiert die deskriptive Statistik nicht auf der Wahrscheinlichkeitstheorie, kann also losgelöst von dieser betrachtet werden. Allerdings ergeben viele Aspekte der Deskriptivstatistik letztlich nur vor dem Hintergrund wahrscheinlichkeitstheoretischer Betrachtungen Sinn und umgekehrt sind viele Begriffe der Wahrscheinlichkeitstheorie durch deskriptivstatistische Konzepte motiviert. Wenn also der vorliegende Abschnitt ohne einen wahrscheinlichkeitstheoretischen Hintergrund auskommt, so erschließt sich seine volle Bedeutung sicherlich erst im Kontext der Begriffe der Wahrscheinlichkeitstheorie.</p>
<p>Wir fokussieren in diesem Abschnitt auf Deskriptivstatistiken zur Beschreibung eines Datensatzes der Form <span class="math display">\[\begin{equation}
y := (y_1,...,y_n) \mbox{ mit } y_i \in \mathbb{R} \mbox{ für } i = 1,...,n.
\end{equation}\]</span> Dabei ist es zunächst unerheblich, ob ein solcher Datensatz in Form eines Spaltenvektors <span class="math inline">\(y \in \mathbb{R}^{n \times 1}\)</span> oder eines Zeilenvektors <span class="math inline">\(y \in \mathbb{R}^{1 \times n}\)</span> vorliegt. Weiterhin fokussieren wir auf die praktische Auswertung der betrachteten Deskriptivstatistiken, geben also viele Beispiele für ihre Berechnung mit <strong>R</strong>.</p>
<section id="anwendungsbeispiel" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="anwendungsbeispiel">Anwendungsbeispiel</h3>
<p>Als Anwendungsbeispiel betrachten wir durchgängig einen Datensatz zur evidenzbasierten Evaluation von Psychotherapie bei Depression. Dazu nehmen wir an, dass <span class="math inline">\(n = 100\)</span> Patient:innen zufällig auf eine Treatment- und eine Kontrollstudienbedingung aufgeteilt wurden und zu Beginn der jeweiligen Intervention mithilfe des BDI-II Fragebogens zu ihrer Depressionsschwere befragt wurden. Die nach den Interventionen erhobenen BDI-II Werte wollen wir in diesem Kapitel nicht betrachten. Wir nehmen also an, dass wir einen Datensatz wie durch folgenden <strong>R</strong> Code in <a href="#tbl-datensatz" class="quarto-xref">Tabelle&nbsp;<span>10.1</span></a> dargestellt vorliegen haben.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>D  <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"./_data/111-deskriptive-statistik.csv"</span>)                          <span class="co"># Laden des Datensatzes</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(D[,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="at">digits =</span> <span class="dv">2</span>, <span class="at">align =</span> <span class="st">"c"</span>)                                  <span class="co"># RMarkdowntabellenoutput  </span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-datensatz" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-datensatz-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;10.1: BDI-II Werte (PRE) von n = 100 Patient:innen in einer Treatment (T) und einer Kontrollstudiengruppe (C) vor Beginn einer psychologischen Intervention
</figcaption>
<div aria-describedby="tbl-datensatz-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: center;">GROUP</th>
<th style="text-align: center;">PRE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">17</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">16</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">21</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">17</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">17</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">17</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">17</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">16</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">16</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">17</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">14</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">21</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">17</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">21</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">17</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">17</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">22</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">21</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">16</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">15</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">15</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">21</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">17</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">21</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">17</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">16</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">17</td>
</tr>
<tr class="odd">
<td style="text-align: center;">T</td>
<td style="text-align: center;">17</td>
</tr>
<tr class="even">
<td style="text-align: center;">T</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">22</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">21</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">17</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">17</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">15</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">17</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">21</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">16</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">21</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">23</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">21</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">17</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">21</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">21</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">18</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">19</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="sec-haeufigkeitsverteilungen" class="level2" data-number="10.1">
<h2 data-number="10.1" class="anchored" data-anchor-id="sec-haeufigkeitsverteilungen"><span class="header-section-number">10.1</span> Häufigkeitsverteilungen</h2>
<p>Wir beginnen mit den Begriffen der <em>absoluten</em> und der <em>relativen Häufigkeitsverteilung</em>. Für Datensätze mit Werten, in denen der gleiche Wert mehrfach auftritt, können Häufigkeitsverteilungen einen ersten Eindruck von der Beschaffenheit des Datensatzes liefern.</p>
<div id="def-absolute-und-relative-haeufigkeitsverteilungen" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.1 (Absolute und relative Häufigkeitsverteilungen)</strong></span> <span class="math inline">\(y := (y_1,...,y_n)\)</span> sei ein Datensatz und <span class="math inline">\(W := \{w_1,...,w_k\}\)</span> mit <span class="math inline">\(k \le n\)</span> seien die im Datensatz vorkommenden Werte. Dann heißt die Funktion <span class="math display">\[\begin{equation}
h : W \to \mathbb{N}, w \mapsto h(w) := \mbox{Anzahl der } y_i \mbox{ aus } y \mbox{ mit } y_i = w
\end{equation}\]</span> die <em>absolute Häufigkeitsverteilung</em> der Werte von <span class="math inline">\(y\)</span> und die Funktion <span class="math display">\[\begin{equation}
r : W \to [0,1], w \mapsto r(w) := \frac{h(w)}{n}
\end{equation}\]</span> heißt die <em>relative Häufigkeitsverteilung</em> der Werte von <span class="math inline">\(y\)</span>.</p>
</div>
<p>Häufigkeitsverteilungen können in <strong>R</strong> durch Kombination der <code>table()</code>und <code>barplot()</code> Funktion ausgewertet und dargestellt werden. Folgender <strong>R</strong> Code erzeugt zunächst die absolute und relative Häufigkeitsverteilungen der Pre-Interventions-BDI-II Daten des Beispieldatensatzes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>D           <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"./_data/111-deskriptive-statistik.csv"</span>)                 <span class="co"># Laden des Datensatzes</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>y           <span class="ot">=</span> D<span class="sc">$</span>PRE                                                             <span class="co"># Double vector der PRE Werte</span></span>
<span id="cb2-3"><a href="#cb2-3"></a>n           <span class="ot">=</span> <span class="fu">length</span>(y)                                                         <span class="co"># Anzahl der Datenwerte (100)</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>H           <span class="ot">=</span> <span class="fu">as.data.frame</span>(<span class="fu">table</span>(y))                                           <span class="co"># absolute Häufigkeitsverteilung (dataframe)</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="fu">names</span>(H)    <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"w"</span>, <span class="st">"ah"</span>)                                                      <span class="co"># Spaltenbenennung</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>H<span class="sc">$</span>rh        <span class="ot">=</span> H<span class="sc">$</span>ah<span class="sc">/</span>n                                                            <span class="co"># relative Häufigkeitsverteilung</span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="fu">print</span>(H, <span class="at">digits =</span> <span class="dv">1</span>)                                                            <span class="co"># Ausgabe</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    w ah   rh
1  14  1 0.01
2  15  3 0.03
3  16  6 0.06
4  17 17 0.17
5  18 21 0.21
6  19 20 0.20
7  20 17 0.17
8  21 12 0.12
9  22  2 0.02
10 23  1 0.01</code></pre>
</div>
</div>
<p>An der Ausgabe des Dataframes <code>H</code> können wir ablesen, dass im betrachteten Datensatz 10 verschiedene Werte <code>w</code> zwischen 14 und 23 vorkommen, wobei zum Beispiel die Werte 18 und 22 jeweils 21 bzw. 2 mal auftreten. Sowohl die absolute als auch die relative Häufigkeitsverteilung zeigen, dass Werte um 18 im vorliegenden Datensatz gehäuft auftreten, Extremwerte wie 13 oder 23 dagegen eher selten. Man beachte, dass es sich bei der relativen Häufigkeitsverteilung lediglich um eine skalierte Form der absoluten Häufigkeitsverteilung handelt. Qualitativ, also hinsichtlich des gehäuften oder selteneren Vorkommens bestimmter Werte, unterscheiden sich beide Häufigkeitsverteilungen nicht. Dies wird insbesondere auch deutlich, wenn man wie in <a href="#fig-haeufigkeitsverteilungen" class="quarto-xref">Abbildung&nbsp;<span>10.1</span></a> beide Häufigkeitsverteilungen visualisiert. Folgender <strong>R</strong> nutzt zu diesem Zweck die Funktion <code>barplot()</code>. Die Höhe des über einem Wert <span class="math inline">\(w\)</span> aufgetragenen Balkens entspricht dabei den Funktionswerten <span class="math inline">\(h(w)\)</span> bzw. <span class="math inline">\(r(w)\)</span>. Die visuelle Einsicht entspricht natürlich der Inspektion des Dataframew <code>H</code>. Beide Häufigkeitsverteilungen zeigen, dass Werte um 18 im vorliegenden Datensatz gehäuft auftreten, wohingegen niedrigere oder höhere Werte wie 13 bzw. 23 dagegen eher selten sind.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">pdf</span>(                                                                            <span class="co"># PDF Kopiefunktion</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="at">file        =</span> <span class="st">"./_figures/111-haeufigkeitsverteilungen.pdf"</span>,                    <span class="co"># Dateiname</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="at">width       =</span> <span class="dv">7</span>,                                                                <span class="co"># Breite (inch)</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="at">height      =</span> <span class="dv">4</span>)                                                                <span class="co"># Höhe (inch)</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="fu">par</span>(                                                                            <span class="co"># Abbildungsparameter    </span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="at">mfcol       =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),                                                           <span class="co"># Zeilen und Spaltenlayout </span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="at">las         =</span> <span class="dv">1</span>,                                                                <span class="co"># x-Tick Orientierung</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="at">cex         =</span> <span class="fl">0.7</span>,                                                              <span class="co"># Annotationsvergrößerung    </span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="at">cex.main    =</span> <span class="fl">1.3</span>)                                                              <span class="co"># Titelvergrößerung</span></span>
<span id="cb4-10"><a href="#cb4-10"></a>h           <span class="ot">=</span> H<span class="sc">$</span>ah                                                              <span class="co"># h(w) Werte</span></span>
<span id="cb4-11"><a href="#cb4-11"></a>r           <span class="ot">=</span> H<span class="sc">$</span>rh                                                              <span class="co"># r(w) Werte</span></span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="fu">names</span>(h)    <span class="ot">=</span> H<span class="sc">$</span>w                                                               <span class="co"># barplot braucht w Werte als names</span></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="fu">names</span>(r)    <span class="ot">=</span> H<span class="sc">$</span>w                                                               <span class="co"># barplot braucht w Werte als names</span></span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="fu">barplot</span>(                                                                        <span class="co"># Balkendiagramm</span></span>
<span id="cb4-15"><a href="#cb4-15"></a>h,                                                                              <span class="co"># absolute Haeufigkeiten</span></span>
<span id="cb4-16"><a href="#cb4-16"></a><span class="at">col         =</span> <span class="st">"gray90"</span>,                                                         <span class="co"># Balkenfarbe</span></span>
<span id="cb4-17"><a href="#cb4-17"></a><span class="at">xlab        =</span> <span class="st">"w"</span>,                                                              <span class="co"># x Achsenbeschriftung</span></span>
<span id="cb4-18"><a href="#cb4-18"></a><span class="at">ylab        =</span> <span class="st">"h(w)"</span>,                                                           <span class="co"># y Achsenbeschriftung</span></span>
<span id="cb4-19"><a href="#cb4-19"></a><span class="at">ylim        =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">25</span>),                                                          <span class="co"># y Achsengrenzen</span></span>
<span id="cb4-20"><a href="#cb4-20"></a><span class="at">main        =</span> <span class="st">"Absolute Häufigkeitsverteilung"</span>)                                 <span class="co"># Titel</span></span>
<span id="cb4-21"><a href="#cb4-21"></a><span class="fu">barplot</span>(                                                                        <span class="co"># Balkendiagramm</span></span>
<span id="cb4-22"><a href="#cb4-22"></a>r,                                                                              <span class="co"># absolute Haeufigkeiten</span></span>
<span id="cb4-23"><a href="#cb4-23"></a><span class="at">col         =</span> <span class="st">"gray90"</span>,                                                         <span class="co"># Balkenfarbe</span></span>
<span id="cb4-24"><a href="#cb4-24"></a><span class="at">xlab        =</span> <span class="st">"w"</span>,                                                              <span class="co"># x Achsenbeschriftung</span></span>
<span id="cb4-25"><a href="#cb4-25"></a><span class="at">ylab        =</span> <span class="st">"r(w)"</span>,                                                           <span class="co"># y Achsenbeschriftung</span></span>
<span id="cb4-26"><a href="#cb4-26"></a><span class="at">ylim        =</span> <span class="fu">c</span>(<span class="dv">0</span>,.<span class="dv">25</span>),                                                         <span class="co"># y Achsengrenzen</span></span>
<span id="cb4-27"><a href="#cb4-27"></a><span class="at">main        =</span> <span class="st">"Relative Häufigkeitsverteilung"</span>)                                 <span class="co"># Titel</span></span>
<span id="cb4-28"><a href="#cb4-28"></a><span class="fu">dev.off</span>()                                                                       <span class="co"># Beenden der Abbildungsbearbeitung</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="fig-haeufigkeitsverteilungen" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-haeufigkeitsverteilungen-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./_figures/111-haeufigkeitsverteilungen.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-haeufigkeitsverteilungen-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;10.1: Absolute und relative Häufigkeitsverteilungen der Pre-Interventions-BDI-II-Werte .
</figcaption>
</figure>
</div>
</section>
<section id="sec-histogramme" class="level2" data-number="10.2">
<h2 data-number="10.2" class="anchored" data-anchor-id="sec-histogramme"><span class="header-section-number">10.2</span> Histogramme</h2>
<p>Wenn in einem Datensatz keine Werte mehrfach vorkommen, nehmen die absoluten und relativen Häufigkeitsverteilungen für jeden dieser Werte den Wert <span class="math inline">\(1\)</span> bzw. <span class="math inline">\(1/n\)</span> an und bieten dann keinen Mehrwert über die visuelle Inspektion des Datensatzes hinaus. Die in diesem Abschnitt vorgestellten Histogramme bieten jedoch eine Möglichkeit, auch in diesem Fall visuelle Darstellungen von Häufigkeitsverteilungen zu generieren. Dabei werden verschiedene Werte, die in einem wohldefinierten Sinne “nah beieinander” liegen, zu Klassen zusammengefasst und die absoluten oder relativen Häufigkeiten dieser Klassen bestimmt. Da bei Datensätzen, in denen die gleichen Werte mehrfach vorkommen, diese Werte der Natur nach in der gleichen Klasse liegen, können Histogramme auch in dem in <a href="#sec-haeufigkeitsverteilungen" class="quarto-xref"><span>Kapitel 10.1</span></a> betrachten Fall sinnvoll angewendet werden. Histogramme verallgemeinern also die im vorherigen Abschnitt betrachteten Häufigkeitsverteilungen bei Datensätzen mit mehrfach auftretenen Werten.</p>
<p>Wir geben zunächst eine Definition des Histogrammbegriffs. Man beachte, dass in dieser Definition der Vorgang der Klassenbildung, die Bestimmung ihrer absoluten und relativen Häufigkeiten, sowie die Visualisierung dieser Häufigkeiten eng verzahnt sind. Dies ist der Konvention geschuldet, dass der Begriff des Histogramms sowohl eine bestimmte Form der Datenanalyse als auch ihre Visualisierung beschreibt.</p>
<div id="def-histogramm" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.2 (Histogramm)</strong></span> Ein <em>Histogramm</em> ist ein Diagramm, in dem zu einem Datensatz <span class="math inline">\(y = (y_1,...,y_n)\)</span> mit Werten <span class="math inline">\(W := \{w_1,...,w_m\}\)</span> mit <span class="math inline">\(m \le n\)</span> für <span class="math inline">\(j = 1,...,k\)</span> über benachbarten Intervallen <span class="math inline">\([b_{j-1},b_j[\)</span> mit <span class="math inline">\(b_0 := \min W\)</span> und <span class="math inline">\(b_k := \max W\)</span> Rechtecke mit der <em>Breite</em> <span class="math inline">\(d_j := b_j - b_{j-1}\)</span> und der <em>Höhe</em> <span class="math inline">\(h(w)\)</span> oder <span class="math inline">\(r(w)\)</span> für <span class="math inline">\(w \in [b_{j-1}, b_{j}[\)</span> abgebildet sind. Dabei werden die Intervalle <span class="math inline">\([b_{j-1},b_j[\)</span> <em>Klassen</em> (engl. <em>bins</em>) genannt.</p>
</div>
<p>Natürlich ist das visuelle Erscheinungsbild eines Histogramms stark davon abhängig, wie genau die Werte eines Datensatzes zu Klassen zusammengefasst werden. Der entscheidene Parameter dafür ist nach <a href="#def-histogramm" class="quarto-xref">Definition&nbsp;<span>10.2</span></a> die Anzahl der Klassen <span class="math inline">\(k\)</span>, die zwischen dem Minimalwert <span class="math inline">\(b_0\)</span> und dem Maximalwert <span class="math inline">\(b_k\)</span> des Datensatzes gewählt werden. Im Folgenden stellen wir einige konventionelle Werte für die Anzahl der Klassen <span class="math inline">\(k\)</span> vor und berechnen und visualisieren sie am Beispiel des Beispieldatensatzes. Dabei gehen wir durchgängig davon aus, dass die benachbarten Intervalle <span class="math inline">\([b_{j-1},b_j[\)</span> mit <span class="math inline">\(j = 1,...,k\)</span> für die Anzahl von Klassen <span class="math inline">\(k\)</span> mit konstanter Breite <span class="math inline">\(d = b_j - b_{j-1}\)</span> gewählt werden.</p>
<p>Zur Berechnung und Visualisierung von Histogrammen nutzen wir die <strong>R</strong> Funktion <code>hist()</code>. Bei dieser werden die Klassen <span class="math inline">\([b_{j-1}, b_{j}[\)</span> für <span class="math inline">\(j = 1,...,k\)</span> als das Argument <code>breaks</code> festgelegt. Speziell ist <code>breaks</code> der <strong>R</strong> Vector <code>c(b_0,b_1,...,b_k)</code> mit Länge <span class="math inline">\(k + 1\)</span>. Um den Effekt verschiedener Wahlen der Anzahl der Klassen zu veranschaulichen, lesen wir zunächst den Datensatz ein und bestimmen seine minimalen und maximalen Werte <span class="math inline">\(b_0\)</span> und <span class="math inline">\(b_k\)</span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Datensatz</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>D       <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"./_data/111-deskriptive-statistik.csv"</span>)                     <span class="co"># Laden des Datensatzes</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>y       <span class="ot">=</span> D<span class="sc">$</span>PRE                                                                 <span class="co"># Pre-Interventions-BDI-II-Daten</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>b_0     <span class="ot">=</span> <span class="fu">min</span>(y)                                                                <span class="co"># b_0</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>b_k     <span class="ot">=</span> <span class="fu">max</span>(y)                                                                <span class="co"># b_k</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Minimum b_0                :  14 
Maximum b_k                :  23</code></pre>
</div>
</div>
<p>Eine erste Möglichkeit der Wahl der Klassen <span class="math inline">\(k\)</span> besteht darin, möglichst genau eine gewünschte konstante Breite <span class="math inline">\(d\)</span> zu erzielen. Hierzu setzt man <span class="math display">\[\begin{equation}
k := \lceil (b_k - b_0)d \rceil.
\end{equation}\]</span> Man beachte, dass die Anwendung der Aufrundungsfunktion impliziert, dass die so resultierende Klassenbreite höchstens dem gewünschten Wert entspricht, aber auch kleiner sein kann. Folgender <strong>R</strong> Code verdeutlich diesen Effekt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># Histogramm mit gewünschter Klassenbreite d = 2</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>d       <span class="ot">=</span> <span class="dv">2</span>                                                                     <span class="co"># gewünschte Klassenbreite</span></span>
<span id="cb7-3"><a href="#cb7-3"></a>b_0     <span class="ot">=</span> <span class="fu">min</span>(y)                                                                <span class="co"># b_0</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>b_k     <span class="ot">=</span> <span class="fu">max</span>(y)                                                                <span class="co"># b_k</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>k       <span class="ot">=</span> <span class="fu">ceiling</span>((b_k <span class="sc">-</span> b_0)<span class="sc">/</span>d)                                                <span class="co"># Anzahl der Klassen</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>b       <span class="ot">=</span> <span class="fu">seq</span>(b_0, b_k, <span class="at">length.out =</span> k <span class="sc">+</span> <span class="dv">1</span>)                                     <span class="co"># Klassen [b_{j-1}, b_j[ (breaks)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Gewünschte Klassenbreite d :  2 
Klassenanzahl k            :  5 
Intervalle [b_j-1, b_j]    :  14 15.8 17.6 19.4 21.2 23 
Erzielte Klassenbreite  d  :  1.8</code></pre>
</div>
</div>
<p>Die Wahl einer gewünschten Klassenbreite von <span class="math inline">\(d = 1.5\)</span> dagegen führt für den vorliegenden Datensatz auf eine resultierende Klassenbreite, die dem Wunsch entspricht.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># Histogramm mit gewünschter Klassenbreite d = 1.5</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>d       <span class="ot">=</span> <span class="fl">1.5</span>                                                                   <span class="co"># gewünschte Klassenbreite</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>k       <span class="ot">=</span> <span class="fu">ceiling</span>((b_k <span class="sc">-</span> b_0)<span class="sc">/</span>d)                                                <span class="co"># Anzahl der Klassen</span></span>
<span id="cb9-4"><a href="#cb9-4"></a>b       <span class="ot">=</span> <span class="fu">seq</span>(b_0, b_k, <span class="at">length.out =</span> k <span class="sc">+</span> <span class="dv">1</span>)                                     <span class="co"># Klassen [b_{j-1}, b_j[ (breaks)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Gewünschte Klassenbreite d :  1.5 
Klassenanzahl k            :  6 
Intervalle [b_j-1, b_j]    :  14 15.5 17 18.5 20 21.5 23 
Erzielte Klassenbreite  d  :  1.5</code></pre>
</div>
</div>
<p>Eine weitere Möglichkeit ist es, die Anzahl der Klassen abhängig von der Anzahl der Datenpunkte im Datensatz zu machen. Die Excelstandardwahl ist dabei<br>
<span class="math display">\[\begin{equation}
k := \lceil \sqrt{n} \rceil.        
\end{equation}\]</span> Folgender <strong>R</strong> Code implementiert diese Wahl für den den vorliegenden Datensatz. </p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># Histogramm mit Excelstandard</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>n       <span class="ot">=</span> <span class="fu">length</span>(y)                                                             <span class="co"># Anzahl Datenpunkte</span></span>
<span id="cb11-3"><a href="#cb11-3"></a>k       <span class="ot">=</span> <span class="fu">ceiling</span>(<span class="fu">sqrt</span>(n))                                                      <span class="co"># Anzahl der Klassen</span></span>
<span id="cb11-4"><a href="#cb11-4"></a>b       <span class="ot">=</span> <span class="fu">seq</span>(b_0, b_k, <span class="at">length.out =</span> k <span class="sc">+</span> <span class="dv">1</span>)                                     <span class="co"># Klassen [b_{j-1}, b_j[ (breaks)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Anzahl Datenpunkte n       :  100 
Klassenanzahl k            :  10 
Intervalle [b_j-1, b_j]    :  14 14.9 15.8 16.7 17.6 18.5 19.4 20.3 21.2 22.1 23 
Erzielte Klassenbreite  d  :  0.9</code></pre>
</div>
</div>
<p>Ähnlich gelagert wie der Excelstandard ist die von <span class="citation" data-cites="sturges1926">Sturges (<a href="#ref-sturges1926" role="doc-biblioref">1926</a>)</span> vorgeschlagene Klassenanzahl, welche die Darstellung unter einer impliziten Normalverteilungsannahme optimiert und durch <span class="math display">\[\begin{equation}
k := \lceil \log_2 n + 1\rceil      
\end{equation}\]</span> gegeben ist. Im vorliegenden Fall resultiert hier:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># Klassenanzahl nach Sturges (1926) </span></span>
<span id="cb13-2"><a href="#cb13-2"></a>n       <span class="ot">=</span> <span class="fu">length</span>(y)                                                             <span class="co"># Anzahl Datenpunkte</span></span>
<span id="cb13-3"><a href="#cb13-3"></a>k       <span class="ot">=</span> <span class="fu">ceiling</span>(<span class="fu">log2</span>(n)<span class="sc">+</span><span class="dv">1</span>)                                                    <span class="co"># Anzahl der Klassen</span></span>
<span id="cb13-4"><a href="#cb13-4"></a>b       <span class="ot">=</span> <span class="fu">seq</span>(b_0, b_k, <span class="at">length.out =</span> k <span class="sc">+</span> <span class="dv">1</span>)                                     <span class="co"># Klassen [b_{j-1}, b_j[ (breaks)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Anzahl Datenpunkte n       :  100 
Klassenanzahl k            :  8 
Intervalle [b_j-1, b_j]    :  14 15.125 16.25 17.375 18.5 19.625 20.75 21.875 23 
Erzielte Klassenbreite  d  :  1.125</code></pre>
</div>
</div>
<p>Eine weitere Möglichkeit ist es, Deskriptivstatistiken des Datensatzes in die Wahl der Klassenanzahl einfließen zu lassen. Als Maß für die Streuung der Daten im Datensatz nutzt die Klassenanzahl nach <span class="citation" data-cites="scott1979">Scott (<a href="#ref-scott1979" role="doc-biblioref">1979</a>)</span> die empirische Standardabweichung (cf. <a href="#sec-masse-der-variabilitaet" class="quarto-xref"><span>Kapitel 10.6</span></a>), um durch das Histogramm eine Dichteschätzung bei Normalverteilung zu realisieren. Wir wollen den nichtparametrischen Hintergrund dieses Vorgehens hier nicht vertiefen, sondern halten lediglich fest, dass die Wahl der Klassenanzahl nach <span class="citation" data-cites="scott1979">Scott (<a href="#ref-scott1979" role="doc-biblioref">1979</a>)</span> durch Festlegung der Klassenbreite zu <span class="math display">\[\begin{equation}
d := 3.49 S/\sqrt[3]{n}             
\end{equation}\]</span> und die anschließende Wahl der Klassenanzahl durch <span class="math display">\[\begin{equation}
k := \lceil (b_k - b_0)d \rceil
\end{equation}\]</span> gegeben ist, wobei <span class="math inline">\(S\)</span> die Standardabweichung des Datensatzes bezeichnet. Im vorliegenden Fall resultieren hier:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co"># Klassenanzahl nach Scott (1979) </span></span>
<span id="cb15-2"><a href="#cb15-2"></a>n       <span class="ot">=</span> <span class="fu">length</span>(y)                                                             <span class="co"># Anzahl Datenwerte</span></span>
<span id="cb15-3"><a href="#cb15-3"></a>S       <span class="ot">=</span> <span class="fu">sd</span>(y)                                                                 <span class="co"># Stichprobenstandardabweichung</span></span>
<span id="cb15-4"><a href="#cb15-4"></a>d       <span class="ot">=</span> <span class="fu">ceiling</span>(<span class="fl">3.49</span><span class="sc">*</span>S<span class="sc">/</span>(n<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>)))                                             <span class="co"># Klassenbreite</span></span>
<span id="cb15-5"><a href="#cb15-5"></a>k       <span class="ot">=</span> <span class="fu">ceiling</span>((b_k <span class="sc">-</span> b_0)<span class="sc">/</span>d)                                                <span class="co"># Anzahl der Klassen</span></span>
<span id="cb15-6"><a href="#cb15-6"></a>b       <span class="ot">=</span> <span class="fu">seq</span>(b_0, b_k, <span class="at">length.out =</span> k <span class="sc">+</span> <span class="dv">1</span>)                                     <span class="co"># Klassen [b_{j-1}, b_j[ (breaks)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Anzahl Datenpunkte n       :  100 
Standardabweichung         :  1.740167 
Klassenbreite nach Scott d :  2 
Klassenanzahl k            :  5 
Intervalle [b_j-1, b_j]    :  14 15.8 17.6 19.4 21.2 23 
Erzielte Klassenbreite  d  :  1.8</code></pre>
</div>
</div>
<p>Per Default nutzt die in <strong>R</strong> implementierte <code>hist()</code> Funktion eine Modifikation der von <span class="citation" data-cites="sturges1926">Sturges (<a href="#ref-sturges1926" role="doc-biblioref">1926</a>)</span> vorgeschlagenen Klassenanzahl und bietet eine Reihe von weiteren Möglichkeiten zur Wahl der Klassen. Einen Überblick dazu liefert <code>?hist</code>. Folgender <strong>R</strong> Code visualisiert die absoluten Häufigkeiten der Werte des Beispieldatensatzes anhand der oben spezifierten Klassen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># Abbildungsparameter</span></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="fu">pdf</span>(                                                                            <span class="co"># PDF Kopiefunktion</span></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="at">file        =</span> <span class="st">"./_figures/111-histogramme.pdf"</span>,                                 <span class="co"># Dateiname</span></span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="at">width       =</span> <span class="dv">6</span>,                                                                <span class="co"># Breite (inch)</span></span>
<span id="cb17-5"><a href="#cb17-5"></a><span class="at">height      =</span> <span class="dv">9</span>)                                                                <span class="co"># Höhe (inch)</span></span>
<span id="cb17-6"><a href="#cb17-6"></a><span class="fu">par</span>(                                                                            <span class="co"># Abbildungsparameter    </span></span>
<span id="cb17-7"><a href="#cb17-7"></a><span class="at">mfcol       =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">2</span>),                                                           <span class="co"># Zeilen und Spaltenlayout </span></span>
<span id="cb17-8"><a href="#cb17-8"></a><span class="at">las         =</span> <span class="dv">1</span>,                                                                <span class="co"># x-Tick Orientierung</span></span>
<span id="cb17-9"><a href="#cb17-9"></a><span class="at">cex         =</span> .<span class="dv">7</span>,                                                               <span class="co"># Annotationsvergrößerung</span></span>
<span id="cb17-10"><a href="#cb17-10"></a><span class="at">cex.main    =</span> .<span class="dv">9</span>)                                                               <span class="co"># Titelvergrößerung</span></span>
<span id="cb17-11"><a href="#cb17-11"></a>x_min       <span class="ot">=</span> <span class="dv">12</span>                                                                <span class="co"># x-Achsenlimit</span></span>
<span id="cb17-12"><a href="#cb17-12"></a>x_max       <span class="ot">=</span> <span class="dv">25</span>                                                                <span class="co"># x-Achsenlimit</span></span>
<span id="cb17-13"><a href="#cb17-13"></a>y_min       <span class="ot">=</span> <span class="dv">0</span>                                                                 <span class="co"># y-Achsenlimit</span></span>
<span id="cb17-14"><a href="#cb17-14"></a>y_max       <span class="ot">=</span> <span class="dv">45</span>                                                                <span class="co"># y-Achsenlimit</span></span>
<span id="cb17-15"><a href="#cb17-15"></a>label       <span class="ot">=</span> <span class="fu">c</span>(<span class="st">""</span>, <span class="st">""</span>, <span class="st">"Excel"</span>, <span class="st">"Sturges"</span>, <span class="st">"Scott"</span>)                            <span class="co"># Titel</span></span>
<span id="cb17-16"><a href="#cb17-16"></a></span>
<span id="cb17-17"><a href="#cb17-17"></a><span class="co"># Histogramme mit vordefinierter Klassenanzahl und Klassenbreite</span></span>
<span id="cb17-18"><a href="#cb17-18"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>){</span>
<span id="cb17-19"><a href="#cb17-19"></a>    <span class="fu">hist</span>(                                                                       <span class="co"># Histogramm</span></span>
<span id="cb17-20"><a href="#cb17-20"></a>    y,                                                                          <span class="co"># Datensatz</span></span>
<span id="cb17-21"><a href="#cb17-21"></a>    <span class="at">breaks  =</span> bs[[i]],                                                          <span class="co"># breaks Argument</span></span>
<span id="cb17-22"><a href="#cb17-22"></a>    <span class="at">xlim    =</span> <span class="fu">c</span>(x_min, x_max),                                                  <span class="co"># x-Achsenlimits</span></span>
<span id="cb17-23"><a href="#cb17-23"></a>    <span class="at">ylim    =</span> <span class="fu">c</span>(y_min, y_max),                                                  <span class="co"># y-Achsenlimits</span></span>
<span id="cb17-24"><a href="#cb17-24"></a>    <span class="at">ylab    =</span> <span class="st">"Häufigkeit"</span>,                                                     <span class="co"># y-Achsenbezeichnung</span></span>
<span id="cb17-25"><a href="#cb17-25"></a>    <span class="at">xlab    =</span> <span class="st">"BDI"</span>,                                                            <span class="co"># x-Achsenbezeichnung</span></span>
<span id="cb17-26"><a href="#cb17-26"></a>    <span class="at">main    =</span> <span class="fu">sprintf</span>(<span class="fu">paste</span>(label[i], <span class="st">"k = %.0f, d = %.2f"</span>), ks[i],ds[i]))      <span class="co"># Titel</span></span>
<span id="cb17-27"><a href="#cb17-27"></a>}</span>
<span id="cb17-28"><a href="#cb17-28"></a></span>
<span id="cb17-29"><a href="#cb17-29"></a><span class="co"># R Default Histogramm</span></span>
<span id="cb17-30"><a href="#cb17-30"></a><span class="fu">hist</span>(                                                                           <span class="co"># Histogramm</span></span>
<span id="cb17-31"><a href="#cb17-31"></a>y,                                                                              <span class="co"># Datensatz</span></span>
<span id="cb17-32"><a href="#cb17-32"></a><span class="at">xlim    =</span> <span class="fu">c</span>(x_min, x_max),                                                      <span class="co"># x-Achsenlimits</span></span>
<span id="cb17-33"><a href="#cb17-33"></a><span class="at">ylim    =</span> <span class="fu">c</span>(y_min, y_max),                                                      <span class="co"># y-Achsenlimits</span></span>
<span id="cb17-34"><a href="#cb17-34"></a><span class="at">ylab    =</span> <span class="st">"Häufigkeit"</span>,                                                         <span class="co"># y-Achsenbezeichnung</span></span>
<span id="cb17-35"><a href="#cb17-35"></a><span class="at">xlab    =</span> <span class="st">""</span>,                                                                   <span class="co"># x-Achsenbezeichnung</span></span>
<span id="cb17-36"><a href="#cb17-36"></a><span class="at">main    =</span> <span class="st">"R Default"</span>)                                                          <span class="co"># Titel</span></span>
<span id="cb17-37"><a href="#cb17-37"></a><span class="fu">mtext</span>(LETTERS[<span class="dv">6</span>], <span class="at">adj=</span><span class="dv">0</span>, <span class="at">line=</span><span class="dv">2</span>, <span class="at">cex =</span> <span class="fl">1.2</span>, <span class="at">at =</span> <span class="dv">8</span>)                             <span class="co"># Subplot Buchs</span></span>
<span id="cb17-38"><a href="#cb17-38"></a><span class="fu">dev.off</span>()                                                                       <span class="co"># Beenden der Abbildungsbearbeitung</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="fig-histogramme" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-histogramme-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./_figures/111-histogramme.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-histogramme-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;10.2: Histogramme der absoluten Häufigkeiten der Pre-Interventions-BDI-II-Werte. Man beachte, dass der qualitative Eindruck, dass im Datensatz Werte um 18 gehäuft auftreten und niedrigere und höhere Werte seltener sind, über alle Wahlen der Klassenanzahl konstant ist. Das genaue quantitative Erscheinungsbild ist dagegen von der exakten Wahl der Klassenanzahl und Klassenbreite abhängig.
</figcaption>
</figure>
</div>
</section>
<section id="sec-empirische-verteilungsfunktionen" class="level2" data-number="10.3">
<h2 data-number="10.3" class="anchored" data-anchor-id="sec-empirische-verteilungsfunktionen"><span class="header-section-number">10.3</span> Empirische Verteilungsfunktionen</h2>
<p>Neben der Frage, wie häufig in einem Datensatz bestimmte Werte oder Klassen von Werten vorkommen, kann es interessant sein, zu untersuchen, wie häufig Werte vorkommen, die kleiner als ein bestimmter Wert sind. Obwohl die Antwort auf diese Frage natürlich in den absoluten und relativen Häufigkeiten bzw. den entsprechenden Histogrammen implizit ist, ist es manchmal von Vorteil, diese Information direkt verfügbar zu haben. Die in diesem Abschnitt eingeführten Begriffe der <em>kumulativen absoluten und relativen Häufigkeitsverteilung</em> sowie der <em>empirischen Verteilungsfunktion</em> bezeichnen die entsprechenden Analoga zu den in <a href="#sec-haeufigkeitsverteilungen" class="quarto-xref"><span>Kapitel 10.1</span></a> und <a href="#sec-histogramme" class="quarto-xref"><span>Kapitel 10.2</span></a> diskutierten Begriffen. Wir beginnen mit der Definition der <em>kumulativen absoluten</em> und <em>kumulativen relativen Häufigkeitsverteilungen</em>.</p>
<div id="def-kumulative-absolute-und-relative-haeufigkeitsverteilungen" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.3 (Kumulative absolute und relative Häufigkeitsverteilungen)</strong></span> <span class="math inline">\(y = (y_1,...,y_n)\)</span> sei ein Datensatz, <span class="math inline">\(W := \{w_1,...,w_k\}\)</span> mit <span class="math inline">\(k \le n\)</span> die im Datensatz vorkommenden Zahlenwerte und <span class="math inline">\(h\)</span> und <span class="math inline">\(r\)</span> die absoluten und relativen Häufigkeitsverteilungen der Werte von <span class="math inline">\(y\)</span>, respektive. Dann heißt die Funktion <span class="math display">\[\begin{equation}
H : W \to \mathbb{N}, w \mapsto H(w) := \sum_{w' \le w} h(w')
\end{equation}\]</span> die <em>kumulative absolute Häufigkeitsverteilung</em> von <span class="math inline">\(y\)</span> und die Funktion <span class="math display">\[\begin{equation}
R : W \to [0,1], w \mapsto R(w) : =\sum_{w' \le w} r(w')
\end{equation}\]</span> die <em>kumulative relative Häufigkeitsverteilung</em> der Zahlwerte von <span class="math inline">\(y\)</span>.</p>
</div>
<p>Im Sinne der Definition <a href="#def-absolute-und-relative-haeufigkeitsverteilungen" class="quarto-xref">Definition&nbsp;<span>10.1</span></a> gilt für die kumulativen Häufigkeitsverteilungen also <span class="math display">\[\begin{equation}
H(w) = \mbox{Anzahl der } y_i \mbox{ aus } y \mbox{ mit } y_i \le w
\end{equation}\]</span> und <span class="math display">\[\begin{equation}
R(w) = \mbox{Anzahl der } y_i \mbox{ aus } y \mbox{ mit } y_i \le w \mbox{ geteilt durch } n.
\end{equation}\]</span></p>
<p>In <strong>R</strong> erlaubt die Funktion <code>cumsum()</code> die Berechnung kumulativer Summen und ermöglicht damit die Auswertung kumulativer Häufigkeitsverteilungen, wie folgender <strong>R</strong> Code anhand des Beispieldatensatzes demonstriert.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>D           <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"./_data/111-deskriptive-statistik.csv"</span>)                 <span class="co"># Laden des Datensatzes</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>y           <span class="ot">=</span> D<span class="sc">$</span>PRE                                                             <span class="co"># Pre-Interventions-BDI-II-Daten</span></span>
<span id="cb18-3"><a href="#cb18-3"></a>n           <span class="ot">=</span> <span class="fu">length</span>(y)                                                         <span class="co"># Anzahl der Datenwerte</span></span>
<span id="cb18-4"><a href="#cb18-4"></a>H           <span class="ot">=</span> <span class="fu">as.data.frame</span>(<span class="fu">table</span>(y))                                           <span class="co"># absolute Häufigkeitsverteilung als Dataframe</span></span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="fu">names</span>(H)    <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"w"</span>, <span class="st">"h"</span>)                                                       <span class="co"># Spaltenbenennung</span></span>
<span id="cb18-6"><a href="#cb18-6"></a>H<span class="sc">$</span>H         <span class="ot">=</span> <span class="fu">cumsum</span>(H<span class="sc">$</span>h)                                                       <span class="co"># kumulative absolute Häufigkeitsverteilung</span></span>
<span id="cb18-7"><a href="#cb18-7"></a>H<span class="sc">$</span>r         <span class="ot">=</span> H<span class="sc">$</span>h<span class="sc">/</span>n                                                             <span class="co"># relative Häufigkeitsverteilung</span></span>
<span id="cb18-8"><a href="#cb18-8"></a>H<span class="sc">$</span>R         <span class="ot">=</span> <span class="fu">cumsum</span>(H<span class="sc">$</span>r)                                                       <span class="co"># kumulative relative Häufigkeitsverteilung</span></span>
<span id="cb18-9"><a href="#cb18-9"></a><span class="fu">print</span>(H, <span class="at">digits =</span> <span class="dv">1</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    w  h   H    r    R
1  14  1   1 0.01 0.01
2  15  3   4 0.03 0.04
3  16  6  10 0.06 0.10
4  17 17  27 0.17 0.27
5  18 21  48 0.21 0.48
6  19 20  68 0.20 0.68
7  20 17  85 0.17 0.85
8  21 12  97 0.12 0.97
9  22  2  99 0.02 0.99
10 23  1 100 0.01 1.00</code></pre>
</div>
</div>
<p>Man beachte dabei insbesondere die Gegenüberstellung von <code>h</code> und <code>H</code> sowie von <code>r</code> und <code>R</code>, die die kumulativen Summen in <a href="#def-kumulative-absolute-und-relative-haeufigkeitsverteilungen" class="quarto-xref">Definition&nbsp;<span>10.3</span></a> verdeutlichen. Folgender <strong>R</strong> Code ermöglicht die Darstellung der so bestimmten kumulativen Häufigkeitsverteilungen wie in <a href="#fig-kumulative-haeufigkeitsverteilungen" class="quarto-xref">Abbildung&nbsp;<span>10.3</span></a> gezeigt. Offensichtlich ist die absolute und die relative Häufigkeit von Werten kleiner als der kleinste Wert im Datensatz Null. Die absolute und relative Häufigkeit von Werten kleiner als der größte Wert im Datensatz ist dagegen <span class="math inline">\(n\)</span> bzw. <span class="math inline">\(n/n = 1\)</span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="fu">pdf</span>(                                                                            <span class="co"># PDF Kopiefunktion</span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="at">file        =</span> <span class="st">"./_figures/111-kumulative-haeufigkeitsverteilungen.pdf"</span>,         <span class="co"># Dateiname</span></span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="at">width       =</span> <span class="dv">10</span>,                                                               <span class="co"># Breite (inch)</span></span>
<span id="cb20-4"><a href="#cb20-4"></a><span class="at">height      =</span> <span class="dv">5</span>)                                                                <span class="co"># Höhe (inch)</span></span>
<span id="cb20-5"><a href="#cb20-5"></a>H           <span class="ot">=</span> H<span class="sc">$</span>H                                                               <span class="co"># H(w) Werte</span></span>
<span id="cb20-6"><a href="#cb20-6"></a>R           <span class="ot">=</span> H<span class="sc">$</span>R                                                               <span class="co"># R(w) Werte</span></span>
<span id="cb20-7"><a href="#cb20-7"></a><span class="fu">names</span>(Hw)   <span class="ot">=</span> H<span class="sc">$</span>w                                                               <span class="co"># barplot braucht w Werte als names</span></span>
<span id="cb20-8"><a href="#cb20-8"></a><span class="fu">names</span>(Rw)   <span class="ot">=</span> H<span class="sc">$</span>w                                                               <span class="co"># barplot braucht w Werte als names</span></span>
<span id="cb20-9"><a href="#cb20-9"></a><span class="fu">par</span>(                                                                            <span class="co"># Abbildungsparameter    </span></span>
<span id="cb20-10"><a href="#cb20-10"></a><span class="at">mfcol   =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),                                                               <span class="co"># Zeilen und Spaltenlayout </span></span>
<span id="cb20-11"><a href="#cb20-11"></a><span class="at">las     =</span> <span class="dv">1</span>,                                                                    <span class="co"># x-Tick Orientierung</span></span>
<span id="cb20-12"><a href="#cb20-12"></a><span class="at">cex     =</span> <span class="dv">1</span>)                                                                    <span class="co"># Annotationsvergrößerung</span></span>
<span id="cb20-13"><a href="#cb20-13"></a><span class="fu">barplot</span>(                                                                        <span class="co"># Balkendiagramm</span></span>
<span id="cb20-14"><a href="#cb20-14"></a>H,                                                                              <span class="co"># H(w) Werte</span></span>
<span id="cb20-15"><a href="#cb20-15"></a><span class="at">col         =</span> <span class="st">"gray90"</span>,                                                         <span class="co"># Balkenfarbe</span></span>
<span id="cb20-16"><a href="#cb20-16"></a><span class="at">xlab        =</span> <span class="st">"w"</span>,                                                              <span class="co"># x-Achsenbeschriftung</span></span>
<span id="cb20-17"><a href="#cb20-17"></a><span class="at">ylab        =</span> <span class="st">"H(w)"</span>,                                                           <span class="co"># y-Achsenbeschriftung</span></span>
<span id="cb20-18"><a href="#cb20-18"></a><span class="at">ylim        =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">110</span>),                                                         <span class="co"># y-Achsenlimits</span></span>
<span id="cb20-19"><a href="#cb20-19"></a><span class="at">las         =</span> <span class="dv">1</span>,                                                                <span class="co"># Achsenticklabelorientierung </span></span>
<span id="cb20-20"><a href="#cb20-20"></a><span class="at">main        =</span> <span class="st">"Absolute kumulative Häufigkeit PRE"</span>)                             <span class="co"># Titel</span></span>
<span id="cb20-21"><a href="#cb20-21"></a><span class="fu">barplot</span>(                                                                        <span class="co"># Balkendiagramm</span></span>
<span id="cb20-22"><a href="#cb20-22"></a>R,                                                                              <span class="co"># R(w) Werte</span></span>
<span id="cb20-23"><a href="#cb20-23"></a><span class="at">col         =</span> <span class="st">"gray90"</span>,                                                         <span class="co"># Balkenfarbe</span></span>
<span id="cb20-24"><a href="#cb20-24"></a><span class="at">xlab        =</span> <span class="st">"w"</span>,                                                              <span class="co"># x-Achsenbeschriftung</span></span>
<span id="cb20-25"><a href="#cb20-25"></a><span class="at">ylab        =</span> <span class="st">"R(w)"</span>,                                                           <span class="co"># y-Achsenbeschriftung</span></span>
<span id="cb20-26"><a href="#cb20-26"></a><span class="at">ylim        =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>),                                                           <span class="co"># y-Achsenlimits</span></span>
<span id="cb20-27"><a href="#cb20-27"></a><span class="at">las         =</span> <span class="dv">1</span>,                                                                <span class="co"># Achsenticklabelorientierung </span></span>
<span id="cb20-28"><a href="#cb20-28"></a><span class="at">main        =</span> <span class="st">"Relative kumulative Häufigkeit PRE"</span>)                             <span class="co"># Titel</span></span>
<span id="cb20-29"><a href="#cb20-29"></a><span class="fu">dev.off</span>()                                                                       <span class="co"># Beenden der Abbildungsbearbeitung</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="fig-kumulative-haeufigkeitsverteilungen" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-kumulative-haeufigkeitsverteilungen-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./_figures/111-kumulative-haeufigkeitsverteilungen.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-kumulative-haeufigkeitsverteilungen-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;10.3: Absolute und relative kumulative Häufigkeitsverteilungen der Pre-Interventions-BDI-II-Werte .
</figcaption>
</figure>
</div>
<p>Das kumulative Analogon zu einem Histogramm ist die <em>empirische Verteilungsfunktion</em>. Im Unterschied zu einem Histogramm ist für die Bestimmung einer empirischen Verteilungsfunktion allerdings keine Definition von Klassen erforderlich. An die Stelle der Intervalleinteilung der reellen Zahlen zwischen dem Minimum und dem Maximum eines Datensatz treten bei der empirischen Verteilungsfunktion einfach die reellen Zahlen, wie folgende Definition verdeutlicht.</p>
<div id="def-empirische-verteilungsfunktion" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.4 (Empirische Verteilungsfunktion)</strong></span> <span class="math inline">\(y = (y_1,...,y_n)\)</span> sei ein Datensatz. Dann heißt die Funktion <span class="math display">\[\begin{equation}
F : \mathbb{R} \to [0,1], x \mapsto F(x)
:= \frac{\mbox{Anzahl der } y_i \mbox{ aus } y \mbox{ mit } y_i \le x}{n}
\end{equation}\]</span> die empirische Verteilungsfunktion (EVF) von <span class="math inline">\(y\)</span>.</p>
</div>
<p>Die empirische Verteilungsfunktion wird manchmal auch die <em>empirische kumulative Verteilungsfunktion</em> genannt. Allgemein beschränkt man sich bei der empirischen Verteilungsfunktion wie in <a href="#def-empirische-verteilungsfunktion" class="quarto-xref">Definition&nbsp;<span>10.4</span></a> auf die Angabe der relativen Häufigkeiten. Natürlichweise kommen in Datensätzen nicht alle reellen Zahlen vor. Dies impliziert, dass die relative Häufigkeit, die reellen Zahlen zugeordnet wird, die zwischen zwei benachbarten Werten des Datensatzes liegen, derjenigen des kleineren der beiden Werte entspricht. Typischerweise sind empirische Verteilungsfunktionen also Treppenfunktionen. In <strong>R</strong> kann die Funktion <code>ecdf()</code> zur Evaluation und Visualisierung der empirischen Verteilungsfunktion eingesetzt werden, wie folgender <strong>R</strong> Code anhand des Beispieldatensatzes demonstriert und in <a href="#fig-ecdf" class="quarto-xref">Abbildung&nbsp;<span>10.4</span></a> visualisiert ist. Man liest aus <a href="#fig-ecdf" class="quarto-xref">Abbildung&nbsp;<span>10.4</span></a> zum Beispiel ab, dass die relative Häufigkeit von Werten kleiner als 17.9 etwa 0.3 ist. Die gleiche relative Häufigkeit haben Werte kleiner als 17.8.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>D       <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"./_data/111-deskriptive-statistik.csv"</span>)                     <span class="co"># Laden des Datensatzes</span></span>
<span id="cb21-2"><a href="#cb21-2"></a>y       <span class="ot">=</span> D<span class="sc">$</span>PRE                                                                 <span class="co"># Pre-Interventions-BDI-II-Daten </span></span>
<span id="cb21-3"><a href="#cb21-3"></a>evf     <span class="ot">=</span> <span class="fu">ecdf</span>(y)                                                               <span class="co"># Evaluation der EVF</span></span>
<span id="cb21-4"><a href="#cb21-4"></a><span class="fu">pdf</span>(                                                                            <span class="co"># PDF Kopiefunktion</span></span>
<span id="cb21-5"><a href="#cb21-5"></a><span class="at">file    =</span> <span class="st">"./_figures/111-ecdf.pdf"</span>,                                            <span class="co"># Dateiname</span></span>
<span id="cb21-6"><a href="#cb21-6"></a><span class="at">width   =</span> <span class="dv">8</span>,                                                                    <span class="co"># Breite (inch)</span></span>
<span id="cb21-7"><a href="#cb21-7"></a><span class="at">height  =</span> <span class="dv">5</span>)                                                                    <span class="co"># Höhe (inch)</span></span>
<span id="cb21-8"><a href="#cb21-8"></a><span class="fu">plot</span>(                                                                           <span class="co"># plot() weiß mit ecdf object umzugehen</span></span>
<span id="cb21-9"><a href="#cb21-9"></a>evf,                                                                            <span class="co"># ecdf Objekt</span></span>
<span id="cb21-10"><a href="#cb21-10"></a><span class="at">xlab    =</span> <span class="st">"BDI"</span>,                                                                <span class="co"># x-Achsenbeschriftung</span></span>
<span id="cb21-11"><a href="#cb21-11"></a><span class="at">ylab    =</span> <span class="st">"Relative Häufigkeit"</span>,                                                <span class="co"># y-Achsenbeschriftung</span></span>
<span id="cb21-12"><a href="#cb21-12"></a><span class="at">main    =</span> <span class="st">"Empirische Verteilungsfunktion"</span>)                                     <span class="co"># Titel</span></span>
<span id="cb21-13"><a href="#cb21-13"></a><span class="fu">dev.off</span>()                                                                       <span class="co"># Beenden der Abbildungsbearbeitung      </span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="fig-ecdf" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ecdf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./_figures/111-ecdf.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ecdf-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;10.4: Empirische Verteilungsfunktion der PRE Werte.
</figcaption>
</figure>
</div>
</section>
<section id="sec-quantile-und-boxplots" class="level2" data-number="10.4">
<h2 data-number="10.4" class="anchored" data-anchor-id="sec-quantile-und-boxplots"><span class="header-section-number">10.4</span> Quantile und Boxplots</h2>
<p>Die empirische Verteilungsfunktion gibt eine zumindest graphisch dargestellte Antwort auf die Frage, wie groß der relative Anteil der Werte eines Datensatzes ist, die kleiner als ein gegebener Wert sind. Die in diesem Abschnitt eingeführten Quantile können als Inversion dieser Datensatzinterrogation verstanden werden. Speziell gibt man bei Quantilen einen relativen Anteil <span class="math inline">\(0 \le p \le 1\)</span> der Werte eines Datensatzes vor und fragt, welcher Wert des Datensatzes so beschaffen ist, dass eben <span class="math inline">\(p \cdot 100 \%\)</span> der Werte des Datensatzes kleiner als oder gleich diesem Wert sind. Wir nutzen folgende Definition des Begriffs des <em><span class="math inline">\(p\)</span>-Quantils</em>.</p>
<div id="def-p-quantil" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.5 (<span class="math inline">\(p\)</span>-Quantil)</strong></span> <span class="math inline">\(y = (y_1,...,y_n)\)</span> sei ein Datensatz und <span class="math display">\[\begin{equation}
y_s = \left(y_{(1)}, y_{(2)}, ...,y_{(n)}\right) \mbox{ mit }
\min_{1 \le i \le n} y_i = y_{(1)} \le y_{(2)} \le \cdots \le y_{(n)} = \max_{1 \le i \le n} y_i
\end{equation}\]</span> sei der zugehörige aufsteigend sortierte Datensatz. Weiterhin bezeichne <span class="math inline">\(\lfloor \cdot \rfloor\)</span> die Abrundungsfunktion. Dann heißt für ein <span class="math inline">\(p \in [0,1]\)</span> die Zahl <span class="math display">\[\begin{equation}
y_p :=
\begin{cases}
y_{(\lfloor np + 1 \rfloor)} &amp; \mbox{ falls } np \neq \mathbb{N} \\
\frac{1}{2}\left(y_{(np)} +  y_{(np + 1)}\right) &amp; \mbox{ falls } np \in \mathbb{N} \\
\end{cases}
\end{equation}\]</span> das <em><span class="math inline">\(p\)</span>-Quantil</em> des Datensatzes <span class="math inline">\(y\)</span>.</p>
</div>
<p>Man beachte, dass das <span class="math inline">\(p\)</span>-Quantil <span class="math inline">\(y_p\)</span> nach <a href="#def-p-quantil" class="quarto-xref">Definition&nbsp;<span>10.5</span></a> entweder ein Wert des Datensatzes oder ein Wert zwischen zwei Werten des Datensatzes ist. Nach Konstruktion von <span class="math inline">\(y_p\)</span> gilt dabei insbesondere, dass mindestens <span class="math inline">\(p \cdot 100\%\)</span> aller Werte des Datensatzes kleiner oder gleich <span class="math inline">\(y_p\)</span> und mindestens <span class="math inline">\((1-p) \cdot 100\%\)</span> aller Werte des Datensatzes größer als <span class="math inline">\(y_p\)</span> sind. Das <span class="math inline">\(p\)</span>-Quantil teilt den geordneten Datensatz <span class="math inline">\(y_s\)</span> also im Verhältnis <span class="math inline">\(p\)</span> zu <span class="math inline">\((1-p)\)</span> auf. Je nach Wahl von <span class="math inline">\(p\)</span> erhalten die <span class="math inline">\(p\)</span>-Quantile spezielle Bezeichnungen:</p>
<ul>
<li><span class="math inline">\(y_{0.25}, y_{0.50}, y_{0.75}\)</span> heißen <em>unteres Quartil</em>, <em>Median</em> und <em>oberes Quartil</em>, respektive,</li>
<li><span class="math inline">\(y_{j\cdot 0.10}\)</span> für <span class="math inline">\(j = 1,...,9\)</span> heißen <em>Dezile</em> und</li>
<li><span class="math inline">\(y_{j\cdot 0.01}\)</span> für <span class="math inline">\(j = 1,...,99\)</span> heißen <em>Percentile</em>.</li>
</ul>
<p>Um den Begriff des <span class="math inline">\(p\)</span>-Quantils zu verdeutlichen, betrachten wir ein an <span class="citation" data-cites="henze2018">Henze (<a href="#ref-henze2018" role="doc-biblioref">2018</a>)</span>, Kapitel 5 orientiertes Beispiel. Dazu seien zunächst der in untenstehender Tabelle dargestellte Datensatz und seine aufsteigend sortierte Version gegeben.</p>
<p>Wir wollen als erstes das untere Quartil, also das <span class="math inline">\(0.25\)</span>-Quantil, dieses Datensatzes bestimmen. Es ist offenbar <span class="math inline">\(n = 10\)</span> und wir haben <span class="math inline">\(p := 0.25\)</span> gewählt. Basierend auf <a href="#def-p-quantil" class="quarto-xref">Definition&nbsp;<span>10.5</span></a> finden wir, dass <span class="math display">\[\begin{equation}
np = 10 \cdot 0.25 = 2.5 \notin \mathbb{N}.
\end{equation}\]</span> Also gilt nach <a href="#def-p-quantil" class="quarto-xref">Definition&nbsp;<span>10.5</span></a>, dass <span class="math display">\[\begin{equation}
y_{0.25} = x_{(\lfloor 2.5 + 1\rfloor)} = x_{(3)} = 3.0.
\end{equation}\]</span> Das untere Quartil des betrachteten Datensatzes ist also der Wert <span class="math inline">\(3.0\)</span> des Datensatzes.</p>
<p>Als zweites wollen wir das <span class="math inline">\(0.80\)</span>-Quantil des Datensatzes bestimmten. Es ist offenbar weiterhin <span class="math inline">\(n = 10\)</span> und wir haben nun <span class="math inline">\(p := 0.80\)</span> gewählt. Wir finden in diesem Fall, dass<br>
<span class="math display">\[\begin{equation}
np = 10 \cdot 0.80 = 8 \in \mathbb{N}.
\end{equation}\]</span> Also folgt nach <a href="#def-p-quantil" class="quarto-xref">Definition&nbsp;<span>10.5</span></a> <span class="math display">\[\begin{equation}
y_{0.80}
= \frac{1}{2} \left(y_{(8)} + y_{(8 + 1)}\right)
= \frac{1}{2}\left(y_{(8)} + y_{(9)}\right)
= \frac{8.5 + 9.0}{2}
= 8.75.
\end{equation}\]</span> Das <span class="math inline">\(y_{0.80}\)</span>-Quantil des betrachteten Datensatzes ist mit <span class="math inline">\(8.75\)</span> also der Wert zwischen den Werten <span class="math inline">\(8.5\)</span> und <span class="math inline">\(9\)</span> des Datensatzes. In <strong>R</strong> wertet man die so bestimmten Quantile wie folgt aus.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>y   <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">8.5</span>,<span class="fl">1.5</span>,<span class="dv">12</span>,<span class="fl">4.5</span>,<span class="fl">6.0</span>,<span class="fl">3.0</span>,<span class="fl">3.0</span>,<span class="fl">2.5</span>,<span class="fl">6.0</span>,<span class="fl">9.0</span>)                                 <span class="co"># Beispieldaten</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>n   <span class="ot">=</span> <span class="fu">length</span>(y)                                                                 <span class="co"># Anzahl Datenwerte</span></span>
<span id="cb22-3"><a href="#cb22-3"></a>y_s <span class="ot">=</span> <span class="fu">sort</span>(y)                                                                   <span class="co"># sortierter Datensatz</span></span>
<span id="cb22-4"><a href="#cb22-4"></a>p   <span class="ot">=</span> <span class="fl">0.25</span>                                                                      <span class="co"># np \notin \mathbb{N}</span></span>
<span id="cb22-5"><a href="#cb22-5"></a>y_p <span class="ot">=</span> y_s[<span class="fu">floor</span>(n<span class="sc">*</span>p <span class="sc">+</span> <span class="dv">1</span>)]                                                       <span class="co"># 0.25 Quantil</span></span>
<span id="cb22-6"><a href="#cb22-6"></a><span class="fu">cat</span>(<span class="st">"0.25 Quantil: "</span>, <span class="fu">round</span>(y_p,<span class="dv">2</span>))                                             <span class="co"># Ausgabe</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0.25 Quantil:  3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>p   <span class="ot">=</span> <span class="fl">0.80</span>                                                                      <span class="co"># np \in \mathbb{N}</span></span>
<span id="cb24-2"><a href="#cb24-2"></a>y_p <span class="ot">=</span> (<span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>)<span class="sc">*</span>(y_s[n<span class="sc">*</span>p] <span class="sc">+</span> y_s[n<span class="sc">*</span>p <span class="sc">+</span> <span class="dv">1</span>])                                           <span class="co"># 0.80 Quantil</span></span>
<span id="cb24-3"><a href="#cb24-3"></a><span class="fu">cat</span>(<span class="st">"0.80 Quantil: "</span>, <span class="fu">round</span>(y_p,<span class="dv">2</span>))                                             <span class="co"># Ausgabe</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0.80 Quantil:  8.75</code></pre>
</div>
</div>
<p>Mit <code>quantile()</code> stellt <strong>R</strong> auch eine Funktion bereit, die die Quantilbestimmung eines Datensatzes automatisiert. Dabei ist allerdings zu beachten, dass die in <a href="#def-p-quantil" class="quarto-xref">Definition&nbsp;<span>10.5</span></a> gegebene Definition des Quantilsbegriffs nur eine von mindestens neun verschiedenen Quantildefinitionen ist und die genauen Werte sich von Definition zu Definition unterscheiden können. Die spezielle Quantildefinition, die von <code>quantile()</code> genutzt wird, wird über das Funktionsargument <code>type</code> ausgewählt. Auf theoretischer Ebene geben <span class="citation" data-cites="hyndman1996">Hyndman &amp; Fan (<a href="#ref-hyndman1996" role="doc-biblioref">1996</a>)</span> dazu einen Überblick, auf Implementationsebene <code>?quantile</code>. Wir betrachten exemplarisch die Bestimmung des <span class="math inline">\(0.25\)</span>-Quantils Pre-Interventions BDI Beispieldatensatzes anhand von <code>type = 8</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>D       <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"./_data/111-deskriptive-statistik.csv"</span>)                     <span class="co"># Laden des Datensatzes</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>y       <span class="ot">=</span> D<span class="sc">$</span>PRE                                                                 <span class="co"># Pre-Interventions-BDI-II-Daten </span></span>
<span id="cb26-3"><a href="#cb26-3"></a>y_p     <span class="ot">=</span> <span class="fu">quantile</span>(y, <span class="fl">0.25</span>, <span class="at">type =</span> <span class="dv">8</span>)                                           <span class="co"># 0.25 Quantil, Definition 1</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>0.25 Quantil (Type = 8):  17</code></pre>
</div>
</div>
<p>Ein <em>Boxplot</em> schließlich visualisiert eine Quantil-basierte Zusammenfassung eines Datensatzes, wobei typischerweise das Minimum und das Maximum eines Datensatzes sowie das untere Quartil, der Median und das obere Quartil visualisiert werden. In <strong>R</strong> erstellt man einen Boxplot mithilfe der <code>boxplot()</code> Funktion, wie folgender <strong>R</strong> Code anhand des Pre-Interventions-BDI-II-Datensatzes demonstriert.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>D           <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"./_data/111-deskriptive-statistik.csv"</span>)                 <span class="co"># Laden des Datensatzes</span></span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="fu">pdf</span>(                                                                            <span class="co"># PDF Kopiefunktion</span></span>
<span id="cb28-3"><a href="#cb28-3"></a><span class="at">file        =</span> <span class="st">"./_figures/111-boxplot.pdf"</span>,                                     <span class="co"># Dateiname</span></span>
<span id="cb28-4"><a href="#cb28-4"></a><span class="at">width       =</span> <span class="dv">8</span>,                                                                <span class="co"># Breite (inch)</span></span>
<span id="cb28-5"><a href="#cb28-5"></a><span class="at">height      =</span> <span class="dv">5</span>)                                                                <span class="co"># Höhe (inch) </span></span>
<span id="cb28-6"><a href="#cb28-6"></a><span class="fu">boxplot</span>(                                                                        <span class="co"># Boxplot</span></span>
<span id="cb28-7"><a href="#cb28-7"></a>D<span class="sc">$</span>PRE,                                                                          <span class="co"># Datensatz</span></span>
<span id="cb28-8"><a href="#cb28-8"></a><span class="at">horizontal  =</span> T,                                                                <span class="co"># horizontale Darstellung</span></span>
<span id="cb28-9"><a href="#cb28-9"></a><span class="at">range       =</span> <span class="dv">0</span>,                                                                <span class="co"># Whiskers bis zu min y und max y</span></span>
<span id="cb28-10"><a href="#cb28-10"></a><span class="at">xlab        =</span> <span class="st">"BDI"</span>,                                                            <span class="co"># x Achsenbeschriftung</span></span>
<span id="cb28-11"><a href="#cb28-11"></a><span class="at">main        =</span> <span class="st">"Boxplot"</span>)                                                        <span class="co"># Titel</span></span>
<span id="cb28-12"><a href="#cb28-12"></a><span class="fu">dev.off</span>()                                                                       <span class="co"># Beenden der Abbildungsbearbeitung</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="fig-boxplot" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-boxplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./_figures/111-boxplot.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-boxplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;10.5: Boxplot der Pre-Interventions-BDI-Werte des Beispieldatensatzes.
</figcaption>
</figure>
</div>
<p>In <a href="#fig-boxplot" class="quarto-xref">Abbildung&nbsp;<span>10.5</span></a> werden <span class="math inline">\(\min y\)</span> und <span class="math inline">\(\max y\)</span> als sogenannte “Whiskerendpunkte” dargestellt, <span class="math inline">\(y_{0.25}\)</span> und <span class="math inline">\(y_{0.75}\)</span> bilden die unteren und oberen Grenze der zentralen grauen Box und der Median <span class="math inline">\(y_{0.50}\)</span> wird als Strich in der zentralen grauen Box abgebildet. Auch hier gilt, dass es sehr viele Boxplotvariationen gibt, vgl. <span class="citation" data-cites="mcgill1978">McGill et al. (<a href="#ref-mcgill1978" role="doc-biblioref">1978</a>)</span>. Eine genaue Erläuterung der graphisch dargestellten Datensatzeigenschaften ist also folglich immer nötig. Schließlich sei angemerkt, dass die Darstellung von Datensätzes mithilfe von Boxplots in den letzten zwanzig Jahren etwas aus der Mode gekommen ist und man sie nur noch sehr selten in aktuellen wissenschaftlichen Publikationen findet.</p>
</section>
<section id="sec-masse-der-zentralen-tendenz" class="level2" data-number="10.5">
<h2 data-number="10.5" class="anchored" data-anchor-id="sec-masse-der-zentralen-tendenz"><span class="header-section-number">10.5</span> Maße der Zentralen Tendenz</h2>
<p>In diesem Abschnitt betrachten wir einige grundlegende Kennzahlen von Datensätzen, die für die deskriptive Statistik zentral sind und Aussagen zu dem “durchschnittlichen” Wert eines Datensatzes machen. Wir beginnen mit der Definition des Mittelwerts.</p>
<section id="sec-mittelwert" class="level3" data-number="10.5.1">
<h3 data-number="10.5.1" class="anchored" data-anchor-id="sec-mittelwert"><span class="header-section-number">10.5.1</span> Mittelwert</h3>
<div id="def-mittelwert" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.6 (Mittelwert)</strong></span> <span class="math inline">\(y = (y_1,...,y_n)\)</span> sei ein Datensatz. Dann heißt <span class="math display">\[\begin{equation}
\bar{y} := \frac{1}{n}\sum_{i=1}^n y_i
\end{equation}\]</span> der <em>Mittelwert</em> von <span class="math inline">\(y\)</span>.</p>
</div>
<p>Der Mittelwert eines Datensatzes ist also die Summe der Datenwerte geteilt durch die Anzahl der Datenwerte. Der hier definierte Mittelwert wir auch als <em>arithmetisches Mittel</em> oder <em>Durchschnitt</em> bezeichnet. Im Kontext der Frequentistischen Inferenz werden wir den Mittelwert vor dem Hintergrund des Modells der Zufallsstichprobe als <em>Stichprobenmittel</em> bezeichnen. Insbesondere erlauben die Modelle der Frequentistischen Inferenz auch, die funktionale Form des Mittelwertes tiefer zu begründen, wie wir an gegebener Stelle sehen werden. Mithilfe der Summenfunktion berechnet man den Mittelwert eines Datensatzes in <strong>R</strong> wie folgt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>D       <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"./_data/111-deskriptive-statistik.csv"</span>)                     <span class="co"># Laden des Datensatzes</span></span>
<span id="cb29-2"><a href="#cb29-2"></a>y       <span class="ot">=</span> D<span class="sc">$</span>PRE                                                                 <span class="co"># Pre-Interventions-BDI-II-Daten</span></span>
<span id="cb29-3"><a href="#cb29-3"></a>n       <span class="ot">=</span> <span class="fu">length</span>(y)                                                             <span class="co"># Anzahl der Werte</span></span>
<span id="cb29-4"><a href="#cb29-4"></a>y_bar   <span class="ot">=</span> (<span class="dv">1</span><span class="sc">/</span>n)<span class="sc">*</span><span class="fu">sum</span>(y)                                                          <span class="co"># Mittelwertsberechnung</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Mittelwert der Pre-BDI-Interventions Daten  18.61</code></pre>
</div>
</div>
<p>Mit der <code>mean()</code> Funktion stellt <strong>R</strong> natürlich auch eine Funktion zur automatisierten Berechnung des Mittelwerts bereit.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="fu">cat</span>(<span class="st">"Mittelwert der PRE-BDI-II-Daten "</span>, <span class="fu">mean</span>(y))                                   <span class="co"># Ausgabe</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Mittelwert der PRE-BDI-II-Daten  18.61</code></pre>
</div>
</div>
<p>In folgendem Theorem halten wir zunächst zwei Eigenschaften des Mittelwerts eines Datensatzes fest, die seine Einordung als Maß der zentralen Tendenz eines Datensatzes plausibel machen.</p>
<div id="thm-zentralitaetseigenschaften-des-mittelwerts" class="theorem">
<p><span class="theorem-title"><strong>Theorem 10.1 (Zentralitätseigenschaften des Mittelwerts)</strong></span> <span class="math inline">\(y = (y_1,...,y_n)\)</span> sei ein Datensatz und <span class="math inline">\(\bar{y}\)</span> sei der Mittelwert von <span class="math inline">\(y\)</span>. Dann gelten</p>
<ol type="1">
<li>Die Summe der Abweichungen vom Mittelwert ist Null, <span class="math display">\[\begin{equation}
\sum_{i=1}^n (y_i - \bar{y}) = 0.
\end{equation}\]</span></li>
<li>Die absoluten Summen negativer und positiver Abweichungen vom Mittelwert sind gleich, d.h. wenn <span class="math inline">\(j = 1,...,n_j\)</span> die Datenpunktindizes mit <span class="math inline">\((y_j - \bar{y}) &lt; 0\)</span> und <span class="math inline">\(k = 1,...,n_k\)</span> die Datenpunktindizes mit <span class="math inline">\((y_k - \bar{y}) \ge\)</span> bezeichnen, dann gilt mit <span class="math inline">\(n_j + n_k\)</span>, dass <span class="math display">\[\begin{equation}
\vert\sum_{j = 1}^{n_j} (y_j - \bar{y})\vert = \vert\sum_{k = 1}^{n_k} (y_k - \bar{y})\vert.
\end{equation}\]</span></li>
</ol>
</div>
<div class="proof">
<p><span class="proof-title"><em>Beweis</em>. </span>(1) Es gilt <span class="math display">\[\begin{align}
\begin{split}
\sum_{i=1}^n (y_i - \bar{y})
&amp; = \sum_{i=1}^n y_i - \sum_{i=1}^n \bar{y}                 \\
&amp; = \sum_{i=1}^n y_i - n\bar{y}                             \\
&amp; = \sum_{i=1}^n y_i - \frac{n}{n}\sum_{i=1}^n y_i          \\
&amp; = \sum_{i=1}^n y_i - \sum_{i=1}^n y_i                     \\
&amp; = 0.
\end{split}
\end{align}\]</span></p>
<p>(2) Seien <span class="math inline">\(j = 1,...,n_j\)</span> die Indizes mit <span class="math inline">\((y_j - \bar{y}) &lt; 0\)</span> und <span class="math inline">\(k = 1,...,n_k\)</span> die Indizes mit <span class="math inline">\((y_k - \bar{y}) \ge 0\)</span>, so dass <span class="math inline">\(n = n_j + n_k\)</span>. Dann gilt <span class="math display">\[\begin{align}
\begin{split}
\sum_{i=1}^n (y_i - \bar{y}) &amp; = 0 \\
\Leftrightarrow
\sum_{j=1}^{n_j} (y_j - \bar{y})  + \sum_{k=1}^{n_k} (y_k - \bar{y}) &amp; = 0 \\
\Leftrightarrow
\sum_{k=1}^{n_k} (y_k - \bar{y})  &amp; =  - \sum_{j=1}^{n_j} (y_j - \bar{y}) \\   
\Leftrightarrow
\vert\sum_{j = 1}^{n_j} (y_j - \bar{y})\vert &amp; = \vert\sum_{k = 1}^{n_k} (y_k - \bar{y})\vert.
\end{split}
\end{align}\]</span></p>
</div>
<p>Nach <a href="#thm-zentralitaetseigenschaften-des-mittelwerts" class="quarto-xref">Theorem&nbsp;<span>10.1</span></a> liegt der Mittelwert eines Datensatzes also gerade so, dass sich in Summe die Abweichungen der Datenpunkte von diesem Wert zu Null ausgleichen und dass sich positive und negative Abweichungen vom Mittelwert die Waage halten. In <strong>R</strong> kann man <a href="#thm-zentralitaetseigenschaften-des-mittelwerts" class="quarto-xref">Theorem&nbsp;<span>10.1</span></a> am Beispieldatensatz wie folgt verifizieren.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="co"># Datensatz</span></span>
<span id="cb33-2"><a href="#cb33-2"></a>D       <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"./_data/111-deskriptive-statistik.csv"</span>)                     <span class="co"># Laden des Datensatzes</span></span>
<span id="cb33-3"><a href="#cb33-3"></a>y       <span class="ot">=</span> D<span class="sc">$</span>PRE                                                                 <span class="co"># Pre-Interventions-BDI-II-Daten</span></span>
<span id="cb33-4"><a href="#cb33-4"></a>s       <span class="ot">=</span> <span class="fu">sum</span>(y <span class="sc">-</span> <span class="fu">mean</span>(y))                                                      <span class="co"># Summe der Abweichungen vom Mittelwert</span></span>
<span id="cb33-5"><a href="#cb33-5"></a>s_1     <span class="ot">=</span> <span class="fu">sum</span>(y[y <span class="sc">&lt;=</span> <span class="fu">mean</span>(y)] <span class="sc">-</span> <span class="fu">mean</span>(y))                                        <span class="co"># Summe aller negativen Abweichungen</span></span>
<span id="cb33-6"><a href="#cb33-6"></a>s_2     <span class="ot">=</span> <span class="fu">sum</span>(y[y <span class="sc">&gt;</span> <span class="fu">mean</span>(y)]  <span class="sc">-</span> <span class="fu">mean</span>(y))                                        <span class="co"># Summe aller positiven Abweichungen</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Summe der Abweichungen vom Mittelwert           :  0 
Summen der positiven und negativen Abweichungen :  -71.28 71.28</code></pre>
</div>
</div>
<div id="thm-summationseigenschaften-des-mittelwerts" class="theorem">
<p><span class="theorem-title"><strong>Theorem 10.2 (Summationsseigenschaften des Mittelwerts)</strong></span> Gegeben seien zwei Datensätze <span class="math inline">\(y = (y_1,...,y_n)\)</span> und <span class="math inline">\(z = (z_1,...,z_n)\)</span> gleichen Umfangs und es sei durch <span class="math display">\[\begin{equation}
y + z := (y_1 + z_1,...,y_n + z_n)
\end{equation}\]</span> die Summe dieser Datensätze definiert. Weiterhin seien <span class="math inline">\(\bar{y}\)</span> und <span class="math inline">\(\bar{z}\)</span> die Mittelwerte der Datensätze <span class="math inline">\(y\)</span> und <span class="math inline">\(z\)</span>, respektive. Dann gilt <span class="math display">\[\begin{equation}
\overline{y + z} = \bar{y} + \bar{z}
\end{equation}\]</span></p>
</div>
<div class="proof">
<p><span class="proof-title"><em>Beweis</em>. </span>Es gilt <span class="math display">\[\begin{align}
\begin{split}
\overline{y + z}
&amp; := \frac{1}{n}\sum_{i=1}^n (y_i + z_i)                            \\
&amp; = \frac{1}{n}\sum_{i = 1}^n y_i + \frac{1}{n}\sum_{i = 1}^n z_i   \\
&amp; =: \bar{y} + \bar{z}.
\end{split}
\end{align}\]</span></p>
</div>
<p>Betrachtet man die Summe zweier Datensätze, so ist es für die Bestimmung ihres Mittelwerts also unerheblich, ob man zunächst die Datensätze aufaddiert und dann den Mittelwert des summierten Datensatzes bestimmt oder ob man für jeden der beiden Datensätze den Mittelwert bestimmt und diese aufaddiert. Wir verifizieren dieses Ergebnis exemplarisch mithilfe der Pre- und Post-Interventions BDI-II-Daten des Beispieldatensatzes in <strong>R</strong> wie folgt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>D           <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"./_data/111-deskriptive-statistik.csv"</span>)                 <span class="co"># Laden des Datensatzes</span></span>
<span id="cb35-2"><a href="#cb35-2"></a>y           <span class="ot">=</span> D<span class="sc">$</span>PRE                                                             <span class="co"># Pre-Interventions-BDI-II-Daten</span></span>
<span id="cb35-3"><a href="#cb35-3"></a>y_bar       <span class="ot">=</span> <span class="fu">mean</span>(y)                                                           <span class="co"># Mittelwert der Pre-Interventions-BDI-II-Daten</span></span>
<span id="cb35-4"><a href="#cb35-4"></a>z           <span class="ot">=</span> D<span class="sc">$</span>POS                                                             <span class="co"># Post-Interventions BDI-II-Daten</span></span>
<span id="cb35-5"><a href="#cb35-5"></a>z_bar       <span class="ot">=</span> <span class="fu">mean</span>(z)                                                           <span class="co"># Mittelwert der Post-Interventions BDI-II-Daten</span></span>
<span id="cb35-6"><a href="#cb35-6"></a>yz_bar_1    <span class="ot">=</span> <span class="fu">mean</span>(y <span class="sc">+</span> z)                                                       <span class="co"># Mittelwert der summierten Pre- und Post-Daten </span></span>
<span id="cb35-7"><a href="#cb35-7"></a>yz_bar_2    <span class="ot">=</span> y_bar <span class="sc">+</span> z_bar                                                     <span class="co"># Summe der Mittelwerte der Pre- und Post-Date</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Mittelwert von z                  :  31.68 
Summe der Mittelwerte von x und y :  31.68</code></pre>
</div>
</div>
<div id="thm-mittelwert-bei-linear-affiner-transformation" class="theorem">
<p><span class="theorem-title"><strong>Theorem 10.3 (Mittelwert bei linear-affiner Transformation)</strong></span> <span class="math inline">\(y = (y_1,...,y_n)\)</span> sei ein Datensatz und <span class="math inline">\(\bar{y}\)</span> sei der Mittelwert von <span class="math inline">\(y\)</span>. Weiterhin sei für <span class="math inline">\(a,b \in \mathbb{R}\)</span> mit <span class="math display">\[\begin{equation}
ay + b := (ay_1 + b,...,ay_n + b)
\end{equation}\]</span> ein linear-affin transformierter Datensatz von <span class="math inline">\(y\)</span> definiert. Dann gilt, dass <span class="math display">\[\begin{equation}
\overline{ay + b} = a\bar{y} + b
\end{equation}\]</span></p>
</div>
<div class="proof">
<p><span class="proof-title"><em>Beweis</em>. </span>Es gilt <span class="math display">\[\begin{align}
\begin{split}
\overline{ay + b}
&amp; := \frac{1}{n}\sum_{i=1}^n (ay_i + b) \\
&amp; = \sum_{i=1}^n \left(\frac{1}{n}ay_i + \frac{1}{n}b\right) \\
&amp; = \left(\sum_{i=1}^n \frac{1}{n}ay_i\right) + \left(\sum_{i=1}^n \frac{1}{n}b\right) \\
&amp; = a\left(\frac{1}{n}\sum_{i=1}^n y_i\right) + \frac{1}{n} \sum_{i=1}^n b \\
&amp; = a\bar{y} + \frac{1}{n} nb \\
&amp; = a\bar{y} + b.
\end{split}
\end{align}\]</span></p>
</div>
<p>Eine linear-affine Transformation eines Datensatz transformiert den Mittelwert des Datensatzes also linear-affin. Dies kann man sich zunutze machen, wenn man sich überlegt, wie der Mittelwert lauten sollte, wenn man einen Datensatz neu skaliert, also z.B. von Gramm in Kilogramm umrechnet. Natürlich kann man zur Sicherheit aber auch einfach den Mittelwert des neu skalierten Datensatzes bestimmen. Wir demonstrieren diese Eigenschaft exemplarisch durch Reskalierung des Pre-Interventions-BDI-II-Datensatzes mit dem Wert <span class="math inline">\(a = 2\)</span> unter gleichzeitiger Addition der Konstante <span class="math inline">\(b := 5\)</span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>D           <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"./_data/111-deskriptive-statistik.csv"</span>)                 <span class="co"># Laden des Datensatzes</span></span>
<span id="cb37-2"><a href="#cb37-2"></a>y           <span class="ot">=</span> D<span class="sc">$</span>PRE                                                             <span class="co"># Pre-Interventions-BDI-II-Daten</span></span>
<span id="cb37-3"><a href="#cb37-3"></a>y_bar       <span class="ot">=</span> <span class="fu">mean</span>(y)                                                           <span class="co"># Mittelwert der Pre-Interventions-BDI-II-Daten</span></span>
<span id="cb37-4"><a href="#cb37-4"></a>a           <span class="ot">=</span> <span class="dv">2</span>                                                                 <span class="co"># Multiplikationskonstante</span></span>
<span id="cb37-5"><a href="#cb37-5"></a>b           <span class="ot">=</span> <span class="dv">5</span>                                                                 <span class="co"># Additionskonstante</span></span>
<span id="cb37-6"><a href="#cb37-6"></a>z           <span class="ot">=</span> a<span class="sc">*</span>y <span class="sc">+</span> b                                                           <span class="co"># linear-affine Transformation der PRE Daten</span></span>
<span id="cb37-7"><a href="#cb37-7"></a>z_bar       <span class="ot">=</span> <span class="fu">mean</span>(z)                                                           <span class="co"># Mittelwert der transfomierten PRE Daten</span></span>
<span id="cb37-8"><a href="#cb37-8"></a>ay_bar_b    <span class="ot">=</span> a<span class="sc">*</span>y_bar <span class="sc">+</span> b                                                       <span class="co"># Transformation des PRE Daten Mittelwerts</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Mittelwert des transformierten Datensatzes :  42.22 
Transformation des Mittelwertes            : 42.22</code></pre>
</div>
</div>
</section>
<section id="sec-median" class="level3" data-number="10.5.2">
<h3 data-number="10.5.2" class="anchored" data-anchor-id="sec-median"><span class="header-section-number">10.5.2</span> Median</h3>
<p>In den oben definierten Mittelwert geht jeder Wert eines Datensatzes summativ mit gleichem Gewicht <span class="math inline">\(1/n\)</span> ein. Dies betrifft insbesondere auch solche Werte, die im Vergleich zu den übrigen Werten des Datensatzes sehr untypisch sind. Eine Möglichkeit, die “Mitte” eines Datensatzes unabhängig von solchen untypischen Werten zu bestimmen, besteht in der Bestimmung seines Medians, den wir nachfolgend definieren. Wir haben den Median bereits in Abschnitt <a href="#sec-quantile-und-boxplots" class="quarto-xref"><span>Kapitel 10.4</span></a> als das 0.5-Quantil kennengelernt, mit dem er identisch ist.</p>
<div id="def-median" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.7 (Median)</strong></span> <span class="math inline">\(y = (y_1,...,y_n)\)</span> sei ein Datensatz und <span class="math inline">\(y_{s} = (y_{(1)},...,y_{(n)})\)</span> der zugehörige aufsteigend sortierte Datensatz. Dann ist der Median von <span class="math inline">\(y\)</span> definiert als <span class="math display">\[\begin{equation}
\tilde{y} :=
\begin{cases}
y_{((n+1)/2)}
&amp; \mbox{ falls } n \mbox{ ungerade},
\\
\frac{1}{2}\left(y_{(n/2)} + y_{(n/2 + 1)}\right)
&amp; \mbox{ falls } n \mbox{ gerade}.
\end{cases}
\end{equation}\]</span></p>
</div>
<p><a href="#def-median" class="quarto-xref">Definition&nbsp;<span>10.7</span></a> impliziert, dass mindestens 50% aller Datenwerte <span class="math inline">\(y_i\)</span> des Datensatzes kleiner oder gleich <span class="math inline">\(\tilde{y}\)</span> sind und dass gleichzeitig mindestens 50% aller Datenwerte <span class="math inline">\(y_i\)</span> des Datensatzes größer oder gleich <span class="math inline">\(\tilde{y}\)</span> sind. Anstelle eines formalen Beweises dieser Aussagen verweisen wir auf <a href="#fig-median" class="quarto-xref">Abbildung&nbsp;<span>10.6</span></a>. Wie in der Definition des Medians unterscheiden wir dort die Fälle, dass die Anzahl der Datenpunkte ungerade ist (hier <span class="math inline">\(n = 5\)</span>, <a href="#fig-median" class="quarto-xref">Abbildung&nbsp;<span>10.6</span></a> A) oder gerade ist (<span class="math inline">\(n = 6\)</span>, <a href="#fig-median" class="quarto-xref">Abbildung&nbsp;<span>10.6</span></a> B). Im Fall der ungeraden Anzahl an Datenpunkten ist der Median der Datenwert mit der Indexzahl, die in der Mitte der Indexzahlen des sortierten Datensatzes liegt, im Beispiel <a href="#fig-median" class="quarto-xref">Abbildung&nbsp;<span>10.6</span></a> A also der Wert <span class="math inline">\(y_{(3)}\)</span>. Damit sind im vorliegenden Fall <span class="math inline">\(3/5\)</span>, also <span class="math inline">\(60\%\)</span> der Datenwerte (speziell <span class="math inline">\(y_{(1)}\)</span>, <span class="math inline">\(y_{(2)}\)</span> und <span class="math inline">\(y_{(3)}\)</span>) kleiner oder gleich dem Median, gleichzeitig aber auch <span class="math inline">\(3/5\)</span>, also <span class="math inline">\(60\%\)</span> der Datenwerte (speziell <span class="math inline">\(y_{(3)}\)</span>, <span class="math inline">\(y_{(4)}\)</span> und <span class="math inline">\(y_{(5)}\)</span>) größer oder gleich dem Median. Im Fall einer geraden Anzahl von Datenpunkten ist die Lage des Medians etwas intuitiver: Der Median liegt in der Mitte der beiden mittleren Werte des sortierten Datensatzes (in <a href="#fig-median" class="quarto-xref">Abbildung&nbsp;<span>10.6</span></a> B speziell in der Mitte der Werte <span class="math inline">\(_{(3)}\)</span> und <span class="math inline">\(y_{(4)}\)</span>). Damit sind dann <span class="math inline">\(3/6\)</span>, also <span class="math inline">\(50\%\)</span> der Datenwerte (speziell <span class="math inline">\(y_{(1)}\)</span>, <span class="math inline">\(y_{(2)}\)</span> und <span class="math inline">\(y_{(3)}\)</span>) kleiner als der Median und <span class="math inline">\(3/6\)</span>, also <span class="math inline">\(50\%\)</span> der Datenwerte (speziell <span class="math inline">\(y_{(4)}\)</span>, <span class="math inline">\(y_{(5)}\)</span> und <span class="math inline">\(y_{(6)}\)</span>) größer als der Median.</p>
<div id="fig-median" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-median-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./_figures/111-median.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-median-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;10.6: Bestimmung und Eigenschaften des Medians.
</figcaption>
</figure>
</div>
<p>Folgender <strong>R</strong> Code bestimmt den Median des Beispieldatensatzes anhand von <a href="#def-median" class="quarto-xref">Definition&nbsp;<span>10.7</span></a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>D           <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"./_data/111-deskriptive-statistik.csv"</span>)                 <span class="co"># Laden des Datensatzes</span></span>
<span id="cb39-2"><a href="#cb39-2"></a>y           <span class="ot">=</span> D<span class="sc">$</span>PRE                                                             <span class="co"># Pre-Interventions-BDI-II-Daten</span></span>
<span id="cb39-3"><a href="#cb39-3"></a>n           <span class="ot">=</span> <span class="fu">length</span>(y)                                                         <span class="co"># Anzahl der Werte</span></span>
<span id="cb39-4"><a href="#cb39-4"></a>y_s         <span class="ot">=</span> <span class="fu">sort</span>(y)                                                           <span class="co"># aufsteigend sortierter Vektor</span></span>
<span id="cb39-5"><a href="#cb39-5"></a><span class="cf">if</span>(n <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">1</span>){                                                                <span class="co"># n ungerade, n mod 2 == 1    </span></span>
<span id="cb39-6"><a href="#cb39-6"></a>   y_tilde <span class="ot">=</span> y_s[(n<span class="sc">+</span><span class="dv">1</span>)<span class="sc">/</span><span class="dv">2</span>]                                                       <span class="co"># Medianformel, Fall n ungerade</span></span>
<span id="cb39-7"><a href="#cb39-7"></a>} <span class="cf">else</span> {                                                                        <span class="co"># n gerade, n mod 2 == 0</span></span>
<span id="cb39-8"><a href="#cb39-8"></a>   y_tilde <span class="ot">=</span> (y_s[n<span class="sc">/</span><span class="dv">2</span>] <span class="sc">+</span> y_s[n<span class="sc">/</span><span class="dv">2</span> <span class="sc">+</span> <span class="dv">1</span>])<span class="sc">/</span><span class="dv">2</span>}                                       <span class="co"># Medianformel, Fall n gerade</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Median der PRE-BDI-II-Daten:  19</code></pre>
</div>
</div>
<p>Natürlich stellt <strong>R</strong> mit <code>median()</code> auch eine Funktion zur direkten Bestimmung, wie folgender <strong>R</strong> Code demonstriert.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">cat</span>(<span class="st">"Median der PRE-BDI-II-Daten: "</span>, <span class="fu">median</span>(y))                                  <span class="co"># Ausgabe</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Median der PRE-BDI-II-Daten:  19</code></pre>
</div>
</div>
<p>Folgende Simulation zeigt beispielhaft, dass der Median als Maß der Mitte eines Datensatzes weniger anfällig für Ausreißer ist als der Mittelwert.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>D           <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"./_data/111-deskriptive-statistik.csv"</span>)                  <span class="co"># Laden des Datensatzes</span></span>
<span id="cb43-2"><a href="#cb43-2"></a>y           <span class="ot">=</span> D<span class="sc">$</span>PRE                                                              <span class="co"># Pre-Interventions-BDI-II-Daten</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Mittelwert und Median für Datensatz ohne Ausreißer:  18.61 19</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>z           <span class="ot">=</span> y                                                                  <span class="co"># neuer simulierter Datensatz </span></span>
<span id="cb45-2"><a href="#cb45-2"></a>z[<span class="dv">1</span>]        <span class="ot">=</span> <span class="dv">10000</span>                                                              <span class="co"># ... mit einem Extremwert</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Mittelwert und Median für Datensatz mit Ausreißer:  118.44 19</code></pre>
</div>
</div>
<p>Obwohl der Median also als robusteres Maß für die zentrale Tendenz eines Datensatzes als der Mittelwert erscheint, ist die Bestimmung von Mittelwerten sicherlich das üblichere Vorgehen. Dies ist einerseits dadurch begründet, dass sich der Mittelwert aufgrund seiner mathematisch weniger komplexen Definition einfacher im analytischen Kontext zur Gestaltung von probabilistischen Modellen eignet. Andererseits ist das Auftreten von Extremwerten üblicherweise ein Anzeichen von Datenerhebungsfehlern (z.B. sollte eine BDI-II Wert von 10.000 schlicht nicht vorkommen) oder großen unterschieden zwischen den betrachteten experimentellen Einheiten, die durch visuelle Inspektion des Datensatzes meist vor der Bestimmung von Maßen der zentralen Tendenz auffallen. Es gibt allerdings ein ganzes Unterfeld der Statistik, dass sich mit - im weitesten Sinne - Ausreißer unabhängigen Maßen beschäftigt, vgl. z.B. <span class="citation" data-cites="huber1981">Huber (<a href="#ref-huber1981" role="doc-biblioref">1981</a>)</span>.</p>
</section>
<section id="sec-modalwert" class="level3" data-number="10.5.3">
<h3 data-number="10.5.3" class="anchored" data-anchor-id="sec-modalwert"><span class="header-section-number">10.5.3</span> Modalwert</h3>
<p>Wenn in einem Datensatz manche Werte wiederholt auftreten, ist mit dem <em>Modalwert</em> als dem in einem Datensatz am häufigsten vorkommenden Wert ein drittes Maß der zentralen Tendenz gegeben. Wir nutzen folgende Definition.</p>
<div id="def-modalwert" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.8 (Modalwert)</strong></span> <span class="math inline">\(y := (y_1,...,y_n)\)</span> mit <span class="math inline">\(y_i \in \mathbb{R}\)</span> sei ein Datensatz, <span class="math inline">\(W := \{w_1,...,w_k\}\)</span> mit <span class="math inline">\(k \le n\)</span> seien die im Datensatz vorkommenden verschiedenen Zahlenwerte und <span class="math inline">\(h : W \to \mathbb{N}\)</span> sei die absolute Häufigkeitsverteilung der Zahlwerte von <span class="math inline">\(y\)</span>. Dann ist der <em>Modalwert (oder Modus)</em> von <span class="math inline">\(y\)</span> definiert als <span class="math display">\[\begin{equation}
\mbox{argmax}_{w \in W} h(w),
\end{equation}\]</span> also als der im Datensatz am häufigsten vorkommende Wert.</p>
</div>
<p>In <strong>R</strong> kann man den Modalwert eines entsprechenden Datensatzes wie folgt bestimmen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>D           <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"./_data/111-deskriptive-statistik.csv"</span>)                 <span class="co"># Laden des Datensatzes</span></span>
<span id="cb47-2"><a href="#cb47-2"></a>y           <span class="ot">=</span> D<span class="sc">$</span>PRE                                                             <span class="co"># Pre-Interventions-BDI-II-Daten</span></span>
<span id="cb47-3"><a href="#cb47-3"></a>n           <span class="ot">=</span> <span class="fu">length</span>(y)                                                         <span class="co"># Anzahl der Datenwerte (100)</span></span>
<span id="cb47-4"><a href="#cb47-4"></a>H           <span class="ot">=</span> <span class="fu">as.data.frame</span>(<span class="fu">table</span>(y))                                           <span class="co"># absolute Haeufigkeitsverteilung (dataframe)</span></span>
<span id="cb47-5"><a href="#cb47-5"></a><span class="fu">names</span>(H)    <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"w"</span>)                                                       <span class="co"># konsistente Benennung</span></span>
<span id="cb47-6"><a href="#cb47-6"></a>mode        <span class="ot">=</span> H<span class="sc">$</span>w[<span class="fu">which.max</span>(H<span class="sc">$</span>w)]                                               <span class="co"># Modalwert</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a><span class="fu">cat</span>(<span class="st">"Modalwert der PRE-BDI-II-Daten: "</span>, <span class="fu">as.numeric</span>(<span class="fu">as.vector</span>(mode)))            <span class="co"># Ausgabe als numeric vector, nicht factor</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Modalwert der PRE-BDI-II-Daten:  21</code></pre>
</div>
</div>
</section>
<section id="datenverteilungsformen-und-maße-zentraler-tendenz" class="level3" data-number="10.5.4">
<h3 data-number="10.5.4" class="anchored" data-anchor-id="datenverteilungsformen-und-maße-zentraler-tendenz"><span class="header-section-number">10.5.4</span> Datenverteilungsformen und Maße zentraler Tendenz</h3>
<p>Wie sinnhaft es ist, mit dem Mittelwert, dem Median oder dem Modalwert eine Angabe über die zentrale Tendenz eines Datensatzes zu geben, hängt stark von der Beschaffenheit des Datensatzes ab. Hat man beispielsweise einen Datensatz hochaufgelöster Daten vorliegen, in dem kein Datenwert mehrfach auftaucht, eignet sich der Modalwert sicherlich nicht, um eine quantitative Aussage über die zentrale Tendenz des Datensatzes zu machen. Man sollte die Angabe eines Maßes der zentralen Tendenz also immer im Kontext der Gesamtbeschaffenheit des Datensatzes sowie, wenn zutreffend, des inferenzstatistischen Modells, das man zur Interrogation des Datensatzes nutzt, betrachten. In <a href="#fig-visuelle-intuition" class="quarto-xref">Abbildung&nbsp;<span>10.7</span></a> geben wir vier Beispiele, wie sich die oben betrachteten Maße der zentralen Tendenz in verschiedenen Szenarien der Datenwertverteilung verhalten können, Diese vier Szenarien sind natürlich nicht erschöpfend und jeder Datensatz ist in Hinblick auf ein sinnvolles Maß der zentralen Tendenz kritisch zu betrachten.</p>
<p><a href="#fig-visuelle-intuition" class="quarto-xref">Abbildung&nbsp;<span>10.7</span></a> A visualisiert die Lage von Mittelwert, Median und Modalwert in einem Datenzatz, der sich symmetrisch um einen Wert von etwa <span class="math inline">\(y = 50\)</span> verteilt und für den Werte nah bei diese zentralen Wert häufig vorkommen und Werte fern von diesem zentralen Wert eher selten. Wie wir später sehen, entspricht dies den typischen Charakteristika normalverteilter Datenwerte. In diesem Fall liegen Mittelwert, Median und Modalwert recht nahe beieinander und jedes dieser Maße beschreibt in der Tat die zentrale Tendenz des Datensatzes.</p>
<p><a href="#fig-visuelle-intuition" class="quarto-xref">Abbildung&nbsp;<span>10.7</span></a> B visualisiert die Lage von Mittelwert, Median und Modalwert in einem Datenzatz, in dem die Datenwerte um zwei Werte von von etwa <span class="math inline">\(y = 25\)</span> und <span class="math inline">\(y = 75\)</span> gehäuft auftreten und jeweils in positive und negative Richtung von diesen Werten entfernt eher selten auftreten. So liegen zum Beispiel um <span class="math inline">\(y = 50\)</span> recht wenige Datenpunkte dieses Datensatzes. Mittelwert und Median nehmen nun aber gerade Werte um <span class="math inline">\(y = 50\)</span> an. Als solche tragen sie bei diesem Datensatz also keine Bedeutungdarüber, welche Werte besonders häufig vorkommen, sondern lediglich darüber, wo sich der mittlere “physikalische Schwerpunkt” des Datensatzes befindet. Der Modalwert hingegen liegt, aufgrund des etwas häufigeren Auftretens von Werten um <span class="math inline">\(y = 75\)</span>, bei dem größeren der beiden Datenhäufungspunkte. Insgesamt betrachtet beschreibt keines der drei Maße bei einem solchen Datensatz, den man auch <em>bimodal</em> nennt, die zentrale Tendenz der Datenwerte wirklich zufriedenstellend.</p>
<p><a href="#fig-visuelle-intuition" class="quarto-xref">Abbildung&nbsp;<span>10.7</span></a> C visualisiert die Lage von Mittelwert, Median und Modalwert in einem Datenzatz, in dem die Datenwerte in der betrachteten Breite etwa durchgängig gleichhäufig auftreten. Hier liegt der Modalwert relativ arbiträr bei etwa <span class="math inline">\(y = 15\)</span>, da sich dort eine minimale Häufung von Datenwerten zeigt. Mittelwert und Median liegen wiederrum im Sinne des “physikalischen Schwerpunkts” des Datensatzes bei etwa <span class="math inline">\(y = 50\)</span>, auch wenn die Werte dieses Datensatzes dort keinerlei Tendenz haben, häufiger als anderorts aufzutreten. Wirklich zufriedenstellend ist auch hier die Beschreibung der zentralen Tendenz des Datensatzes durch die betrachteten Maße nicht. Zusammen betrachtet kann man anhand von <a href="#fig-visuelle-intuition" class="quarto-xref">Abbildung&nbsp;<span>10.7</span></a> B und <a href="#fig-visuelle-intuition" class="quarto-xref">Abbildung&nbsp;<span>10.7</span></a> C vielleicht festhalten, dass wenn ein Datensatz keine klare zentrale Tendenz hat, die Maße der zentralen Tendenz diese auch nicht abbilden können.</p>
<p><a href="#fig-visuelle-intuition" class="quarto-xref">Abbildung&nbsp;<span>10.7</span></a> D schließlich zeigt die Lage von Mittelwert, Median, und Modalwert für einen Datensatz, der schiefsymmetrisch um Werte von etwa <span class="math inline">\(y = 0.5\)</span> erteilt ist. Die Daten dieses Datensatzes nehmen nur positive Werte an, viele Datenwerte liegen in der Tat um <span class="math inline">\(y = 0.5\)</span>, aber es kommen auch höhere Datenwerte vor. Wir werden an späterer Stelle sehen, dass dieses Erscheinungsbild für quadrierte normalverteilte Datenwerte typisch ist. Im psychologischen Kontext haben insbesondere Reaktionszeiten oft eine ähnliche Verteilung, da sie nicht negativ sein können, in den meisten Fällen etwa im Bereich von 0.3 bis 0.6 Sekunden liegen, aber in manchen Fällen durch Unaufmerksamkeit oder Stimulusvariabilität auch sehr viel länger sein können. In diesem Fall beschreibt der Median die tatsächliche zentrale Tendenz der Datenwerte etwas besser als der Mittelwert, da dieser durch die selten vorkommenden Ausreißerwerte etwas zu höheren Werten verschoben ist.</p>
<p>Insgesamt ist die Angabe eines oder mehrerer Maße der zentralen Tendenz also immer kritisch vor dem Hintergrund der Verteilung der Werte eines Datensatzes zu betrachten und qualitativ einzuordnen.</p>
<div id="fig-visuelle-intuition" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-visuelle-intuition-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./_figures/111-visuelle-intuition.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-visuelle-intuition-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;10.7: Visuelle Intuition zu Maßen zentraler Tendenz bei verschiedenen Datenverteilungsformen
</figcaption>
</figure>
</div>
</section>
</section>
<section id="sec-masse-der-variabilitaet" class="level2" data-number="10.6">
<h2 data-number="10.6" class="anchored" data-anchor-id="sec-masse-der-variabilitaet"><span class="header-section-number">10.6</span> Maße der Variabilität</h2>
<p>Neben der Frage, welchen “durchschnittlichen Wert” ein Datensatz annimmt, ist es oft von Interesse zu quantifizieren, wie sehr die Werte im Datensatz streuen oder anders ausgedrückt, wie “variabel” sie sind. Als quantitative Maße für die Variabilität eines Datensatzes betrachten wir hier die <em>Spannbreite</em>, die <em>empirische Varianz</em> und die <em>empirische Standardabweichung</em>. Wie auch für den Mittelwert erschließt sich die volle Bedeutung insbesondere letztere Maße vor allem im Kontext inferenzstatistischer Verfahren.</p>
<section id="sec-spannbreite" class="level3" data-number="10.6.1">
<h3 data-number="10.6.1" class="anchored" data-anchor-id="sec-spannbreite"><span class="header-section-number">10.6.1</span> Spannbreite</h3>
<p>Die Spannbreite eines Datensatzes ist die Differenz zwischen seinem größten und seinem kleinsten Wert.</p>
<div id="def-spannbreite" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.9 (Spannbreite)</strong></span> <span class="math inline">\(y = (y_1,...,y_n)\)</span> sei ein Datensatz. Dann ist die von <span class="math inline">\(y_1,...,y_n\)</span> definiert als <span class="math display">\[\begin{equation}
r := \max(y_1,...,y_n) - \min(y_1,...,y_n).
\end{equation}\]</span></p>
</div>
<p>In <strong>R</strong> bestimmt man die Spannbreite entweder durch Evaluation des Maximums und des Minimums des Datensatzes mithilfe der <code>max()</code> und <code>min()</code> Funktionen oder direkt mithilfe der <code>range()</code> Funktion. Folgender <strong>R</strong> Code demonstriert die Anwendung der <code>max()</code> und <code>min()</code> Funktionen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a>D           <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"./_data/111-deskriptive-statistik.csv"</span>)                 <span class="co"># Laden des Datensatzes</span></span>
<span id="cb50-2"><a href="#cb50-2"></a>y           <span class="ot">=</span> D<span class="sc">$</span>PRE                                                             <span class="co"># Pre-Interventions-BDI-II-Daten</span></span>
<span id="cb50-3"><a href="#cb50-3"></a>y_max       <span class="ot">=</span> <span class="fu">max</span>(y)                                                            <span class="co"># Maximum der PRE Werte</span></span>
<span id="cb50-4"><a href="#cb50-4"></a>y_min       <span class="ot">=</span> <span class="fu">min</span>(y)                                                            <span class="co"># Mininum der PRE Werte</span></span>
<span id="cb50-5"><a href="#cb50-5"></a>r           <span class="ot">=</span> y_max <span class="sc">-</span> y_min                                                     <span class="co"># Spannbreite</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Spannbreite der PRE-BDI-II-Daten:  9</code></pre>
</div>
</div>
<p>Folgender <strong>R</strong> Code demonstriert die Anwendung der <code>range()</code> Funktion.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>MinMax  <span class="ot">=</span> <span class="fu">range</span>(y)                                                              <span class="co"># "automatische" Berechnung von min(x), max(x)</span></span>
<span id="cb52-2"><a href="#cb52-2"></a>r       <span class="ot">=</span> MinMax[<span class="dv">2</span>] <span class="sc">-</span> MinMax[<span class="dv">1</span>]                                                 <span class="co"># Spannbreite</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Spannbreite der PRE-BDI-II-Daten:  9</code></pre>
</div>
</div>
</section>
<section id="sec-empirische-varianz" class="level3" data-number="10.6.2">
<h3 data-number="10.6.2" class="anchored" data-anchor-id="sec-empirische-varianz"><span class="header-section-number">10.6.2</span> Empirische Varianz</h3>
<p>Ein typisches statistisches Maß für die Variabilität von Datensätzen ist die standardisierte Summe der quadrierten Differenzen zwischen den einzelnen Datensatzwerten und ihrem Mittelwert. Die quadrierten Differenzen zwischen den einzelnen Datensatzwerten und ihrem Mittelwert werden auch als <em>Abweichungsquadrate</em> bezeichnet. Je nach Form der Standardisierung, also der Bildung eines Durchschnitts der Abweichungsquadrate, unterscheidet man eine <em>unkorrigierte empirische Varianz</em> und eine <em>empirische Varianz</em>, wie folgende Definition festsetzt.</p>
<div id="def-empirische-varianz-und-korrigierte-empirische-varianz" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.10 (Unkorrigierte empirische Varianz und empirische Varianz)</strong></span> <span class="math inline">\(y = (y_1,...,y_n)\)</span> sei ein Datensatz mit <span class="math inline">\(n&gt;1\)</span> und <span class="math inline">\(\bar{y}\)</span> sei sein Mittelwert. Dann ist die <em>unkorrigierte empirische Varianz</em> von <span class="math inline">\(y\)</span> definiert als <span class="math display">\[\begin{equation}
\tilde{s}^2 := \frac{1}{n}\sum_{i=1}^n (y_i - \bar{y})^2
\end{equation}\]</span> und die <em>empirische Varianz</em> von <span class="math inline">\(y\)</span> ist definiert als <span class="math display">\[\begin{equation}
s^2 := \frac{1}{n-1}\sum_{i=1}^n (y_i - \bar{y})^2.
\end{equation}\]</span></p>
</div>
<p>Wir haben in <a href="#thm-zentralitaetseigenschaften-des-mittelwerts" class="quarto-xref">Theorem&nbsp;<span>10.1</span></a> gesehen, dass die Summe der Differenzen zwischen den Datenwerten und ihrem Mittelwert immer gleich Null ist. Die Quadrierung der Differenzen <span class="math display">\[\begin{equation}
y_i - \bar{y} \mbox{ für } i = 1,...,n
\end{equation}\]</span> in <a href="#def-empirische-varianz-und-korrigierte-empirische-varianz" class="quarto-xref">Definition&nbsp;<span>10.10</span></a> führt nun gerade dazu, dass sich negative und positive Differenzen von Datenpunkten nicht ausgleichen und, je nach Höhe der positiven und negativen Differenzen, mit <span class="math display">\[\begin{equation}
\sum_{i=1}^n (y_i - \bar{y})^2
\end{equation}\]</span> ein höheres oder geringeres Maß für die Gesamtabweichung der Datenwerte von ihrem Mittelwert bestimmt werden kann. Dabei ist die Summe der Abweichungsquadrate gerade dann Null, wenn alle Datenwerte identisch und damit auch identisch mit ihrem Mittelwert sind. Alternativ wäre zum Beispiel auch die Bestimmung der Absolutbeträge <span class="math inline">\(|y_i - \bar{y}|\)</span> denkbar, allerdings erfüllt das so entstehende Maß der Variabilität andere Eigenschaften als das Maß der quadrierten Abweichungen in <a href="#def-empirische-varianz-und-korrigierte-empirische-varianz" class="quarto-xref">Definition&nbsp;<span>10.10</span></a>, weshalb dieses, auch in Hinblick auf seine Nähe zu probabilistischen Normalverteilungsmodellen in der Regel bevorzugt wird. Die unkorrigierte empirische Varianz <span class="math inline">\(\tilde{s}^2\)</span> und die (korrigierte) empirische Varianz <span class="math inline">\(s^2\)</span> unterscheiden sich dann hinsichtlich der Form der Durchschnittsbildung der quadrierten Abweichungsquadrate. Für <span class="math inline">\(\tilde{s}^2\)</span> wird die Summe der Abweichungsquadrate durch <span class="math inline">\(n\)</span>, für <span class="math inline">\(s^2\)</span> durch <span class="math inline">\(n-1\)</span> geteilt. <span class="math inline">\(\tilde{s}^2\)</span> ist also immer etwas kleiner als <span class="math inline">\(s^2\)</span>. Allerdings wird dieser Unterschied für großes <span class="math inline">\(n\)</span> eher gering ausfallen, man denke beispielsweise an den numerischen Unterschied zwischen <span class="math inline">\(\frac{1}{3}\)</span> und <span class="math inline">\(\frac{1}{2}\)</span> bei kleinem <span class="math inline">\(n\)</span> sowie zwischen <span class="math inline">\(\frac{1}{1001}\)</span> und <span class="math inline">\(\frac{1}{1000}\)</span> bei großem <span class="math inline">\(n\)</span>. Man beachte, dass die empirische Varianz für <span class="math inline">\(n = 1\)</span> nicht definiert ist, die unkorrigierte empirische Varianz jedoch auch in diesem Spezialfall prinzipiell bestimmt werden kann. Der Begriff <em>unkorrigiert</em> (und implizit <em>korrigiert</em>) kann sich an dieser Stelle noch nicht erschließen, sondern ergibt nur vor dem Hintegrund eines Frequentischen Inferenzmodells Sinn und wird in <span class="quarto-unresolved-ref">?sec-parameterschaetzung</span> erläutert werden.</p>
<p>Wir fassen die obige Diskussion in folgendem Theorem zusammen</p>
<div id="thm-verhältnis-von-unkorrigierter-empirischer-varianz-und-empirischer-varianz" class="theorem">
<p><span class="theorem-title"><strong>Theorem 10.4 (Verhältnis von unkorrigierter empirischer Varianz und empirischer Varianz)</strong></span> <span class="math inline">\(y = (y_1,...,y_n)\)</span> sei ein Datensatz und <span class="math inline">\(\tilde{s}^2\)</span> und <span class="math inline">\(s^2\)</span> seien seine unkorrigierte empirische Varianz und empirische Varianz, respektive. Dann gelten</p>
<ol type="1">
<li><p>(Umrechnung) <span class="math display">\[\begin{equation}
\tilde{s}^2 = \frac{n-1}{n}s^2 \mbox{ und } s^2 = \frac{n}{n-1}\tilde{s}^2.
\end{equation}\]</span></p></li>
<li><p>(Ungleichung) <span class="math display">\[\begin{equation}
0 \le \tilde{s}^2 \le s^2.
\end{equation}\]</span></p></li>
</ol>
</div>
<div class="proof">
<p><span class="proof-title"><em>Beweis</em>. </span>(1) Nach <a href="#def-empirische-varianz-und-korrigierte-empirische-varianz" class="quarto-xref">Definition&nbsp;<span>10.10</span></a> gilt zum einen <span class="math display">\[\begin{align}
\begin{split}
\tilde{s}^2 &amp; = \frac{1}{n}\sum_{i=1}^n (y_i - \bar{y})^2 \\
\Leftrightarrow
\frac{n-1}{n-1}\tilde{s}^2 &amp; = \frac{n-1}{n-1}\frac{1}{n}\sum_{i=1}^n (y_i - \bar{y})^2 \\
\Leftrightarrow
\tilde{s}^2 &amp; = \frac{n-1}{n}\frac{1}{n-1}\sum_{i=1}^n (y_i - \bar{y})^2\\
\Leftrightarrow
\tilde{s}^2 &amp; = \frac{n-1}{n}s^2
\end{split}
\end{align}\]</span> und zum anderen <span class="math display">\[\begin{align}
\begin{split}
s^2 &amp; = \frac{1}{n-1}\sum_{i=1}^n (y_i - \bar{y})^2 \\
\Leftrightarrow
\frac{n}{n}s^2 &amp; = \frac{n}{n}\frac{1}{n-1}\sum_{i=1}^n (y_i - \bar{y})^2 \\
\Leftrightarrow
s^2 &amp; = \frac{n}{n-1}\frac{1}{n}\sum_{i=1}^n (y_i - \bar{y})^2\\
\Leftrightarrow
s^2 &amp; = \frac{n}{n-1}\tilde{s}^2.
\end{split}
\end{align}\]</span></p>
<p>(2) Mit der Nichtnegativität der Quadratfunktion sowie <span class="math inline">\(\frac{1}{n} &gt; 0\)</span> und <span class="math inline">\(\frac{1}{n-1} &gt; 0\)</span> für <span class="math inline">\(n &gt; 1\)</span> ergeben sich <span class="math inline">\(\tilde{s}^2 \ge 0\)</span> und <span class="math inline">\(\tilde{s}^2 &gt; 0\)</span> direkt. Schließlich gilt für <span class="math inline">\(\sum_{i=1}^n (y_i - \bar{y})^2 \neq 0\)</span> <span class="math display">\[\begin{equation}
\frac{1}{n} &lt; \frac{1}{n-1} \Leftrightarrow
\frac{1}{n}\sum_{i=1}^n (y_i - \bar{y})^2 &lt; \frac{1}{n-1}\sum_{i=1}^n (y_i - \bar{y})^2 \Leftrightarrow
\tilde{s}^2 &lt; s^2.
\end{equation}\]</span> und für <span class="math inline">\(\sum_{i=1}^n (y_i - \bar{y})^2 = 0\)</span> offenbar <span class="math inline">\(\tilde{s}^2 = s^2\)</span>. Insgesamt gilt also <span class="math display">\[\begin{equation}
0 \le \tilde{s}^2 \le s^2.
\end{equation}\]</span></p>
</div>
<p>Folgender <strong>R</strong> Code demonstriert die Bestimmung der unkorrigierten empirischen Varianz und der empirischen Varianz anhand der in <a href="#def-empirische-varianz-und-korrigierte-empirische-varianz" class="quarto-xref">Definition&nbsp;<span>10.10</span></a> festgelegten Formeln.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>D           <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"./_data/111-deskriptive-statistik.csv"</span>)                 <span class="co"># Laden des Datensatzes</span></span>
<span id="cb54-2"><a href="#cb54-2"></a>y           <span class="ot">=</span> D<span class="sc">$</span>PRE                                                             <span class="co"># Pre-Interventions-BDI-II-Daten                                        </span></span>
<span id="cb54-3"><a href="#cb54-3"></a>n           <span class="ot">=</span> <span class="fu">length</span>(y)                                                         <span class="co"># Anzahl der Werte</span></span>
<span id="cb54-4"><a href="#cb54-4"></a>S2_tilde    <span class="ot">=</span> (<span class="dv">1</span><span class="sc">/</span>n)<span class="sc">*</span><span class="fu">sum</span>((y <span class="sc">-</span> <span class="fu">mean</span>(y))<span class="sc">^</span><span class="dv">2</span>)                                        <span class="co"># unkorrigierte empirische Varianz</span></span>
<span id="cb54-5"><a href="#cb54-5"></a>S2          <span class="ot">=</span> (<span class="dv">1</span><span class="sc">/</span>(n<span class="dv">-1</span>))<span class="sc">*</span><span class="fu">sum</span>((y <span class="sc">-</span> <span class="fu">mean</span>(y))<span class="sc">^</span><span class="dv">2</span>)                                    <span class="co"># empirische Varianzz</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Unkorrigierte empirische Varianz der PRE-BDI-II-Daten :  2.998 
Empirische Varianz der PRE-BDI-II-Daten               :  3.028</code></pre>
</div>
</div>
<p>Die <strong>R</strong> Funktion <code>var()</code> bestimmt per default die empirische Varianz. Mithilfe von Aussage (1) in <a href="#thm-verhältnis-von-unkorrigierter-empirischer-varianz-und-empirischer-varianz" class="quarto-xref">Theorem&nbsp;<span>10.4</span></a> kann basierend auf dieser Funktion auch die unkorrigierte empirische Varianz bestimmt werden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>s2          <span class="ot">=</span> <span class="fu">var</span>(y)                                                            <span class="co"># empirische Varianzz</span></span>
<span id="cb56-2"><a href="#cb56-2"></a>s2_tilde    <span class="ot">=</span> ((n<span class="dv">-1</span>)<span class="sc">/</span>n)<span class="sc">*</span><span class="fu">var</span>(y)                                                  <span class="co"># unkorrigierte empirische Varianz</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Unkorrigierte empirische Varianz der PRE-BDI-II-Daten:  2.998 
Empirische Varianz der PRE-BDI-II-Daten              :  3.028</code></pre>
</div>
</div>
<p>Folgendes Theorem besagt, wie sich die empirische Varianz bei linear-affiner Transformation eines Datensatzes verhält.</p>
<div id="thm-varianz-bei-linear-affinen-transformationen" class="theorem">
<p><span class="theorem-title"><strong>Theorem 10.5 (Varianz bei linear-affinen Transformationen)</strong></span> <span class="math inline">\(y = (y_1,...,y_n)\)</span> sei ein Datensatz mit empirischer Varianz <span class="math inline">\(S_y^2\)</span> und <span class="math inline">\(z = (ay_1+b, ..., ay_n+b)\)</span> sei der mit <span class="math inline">\(a,b \in \mathbb{R}\)</span> linear-affin transformierte Datensatz mit empirischer Varianz <span class="math inline">\(S_z^2\)</span>. Dann gilt <span class="math display">\[\begin{equation}
s^2_z = a^2 s^2_y.
\end{equation}\]</span></p>
</div>
<div class="proof">
<p><span class="proof-title"><em>Beweis</em>. </span><span class="math display">\[\begin{align}
\begin{split}
s^2_z
&amp;  = \frac{1}{n-1}\sum_{i=1}^n (z_i - \bar{z})^2                \\
&amp;  = \frac{1}{n-1}\sum_{i=1}^n (ay_i + b - (a\bar{y} + b))^2    \\
&amp;  = \frac{1}{n-1}\sum_{i=1}^n (ay_i + b - a\bar{y} - b)^2      \\
&amp;  = \frac{1}{n-1}\sum_{i=1}^n (a(y_i - \bar{y}))^2             \\
&amp;  = \frac{1}{n-1}\sum_{i=1}^n a^2(y_i - \bar{y})^2             \\     
&amp;  = a^2\frac{1}{n-1}\sum_{i=1}^n (y_i - \bar{y})^2             \\
&amp;  = a^2S_y^2.                                                   \\
\end{split}
\end{align}\]</span></p>
</div>
<p>Beispielsweise ändert also das Umrechnen eines Datensatzes von Meter in Zentimeter die Varianz des Ausgangsdatensatzes um den Faktor <span class="math inline">\(100^2\)</span>. Wir reproduzieren <a href="#thm-varianz-bei-linear-affinen-transformationen" class="quarto-xref">Theorem&nbsp;<span>10.5</span></a> beispielhaft mithilfe folgenden <strong>R</strong> Codes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>y       <span class="ot">=</span> D<span class="sc">$</span>PRE                                                                  <span class="co"># Pre-Interventions-BDI-II-Daten</span></span>
<span id="cb58-2"><a href="#cb58-2"></a>s2y     <span class="ot">=</span> <span class="fu">var</span>(y)                                                                 <span class="co"># Empirische Varianz von y_1,...,y_n</span></span>
<span id="cb58-3"><a href="#cb58-3"></a>a       <span class="ot">=</span> <span class="dv">2</span>                                                                      <span class="co"># Multiplikationskonstante</span></span>
<span id="cb58-4"><a href="#cb58-4"></a>b       <span class="ot">=</span> <span class="dv">5</span>                                                                      <span class="co"># Additionskonstante</span></span>
<span id="cb58-5"><a href="#cb58-5"></a>z       <span class="ot">=</span> a<span class="sc">*</span>y <span class="sc">+</span> b                                                                <span class="co"># z_i = az_i + b</span></span>
<span id="cb58-6"><a href="#cb58-6"></a>s2z     <span class="ot">=</span> <span class="fu">var</span>(z)                                                                 <span class="co"># Empirische Varianz von z_1,...,z_n</span></span>
<span id="cb58-7"><a href="#cb58-7"></a><span class="fu">cat</span>(<span class="st">"Empirische Varianz von z_1,...,z_n durch direkte Berechung : "</span>, <span class="fu">round</span>(s2z,<span class="dv">3</span>))                       <span class="co"># Ausgabe</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Empirische Varianz von z_1,...,z_n durch direkte Berechung :  12.113</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a>s2z     <span class="ot">=</span> a<span class="sc">^</span><span class="dv">2</span><span class="sc">*</span>s2y                                                                <span class="co"># Empirische Varianz von z_1,...,z_n</span></span>
<span id="cb60-2"><a href="#cb60-2"></a><span class="fu">cat</span>(<span class="st">"Empirische Varianz von z_1,...,z_n nach Theorem            : "</span>, <span class="fu">round</span>(s2z,<span class="dv">3</span>))      <span class="co"># Ausgabe</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Empirische Varianz von z_1,...,z_n nach Theorem            :  12.113</code></pre>
</div>
</div>
<p>Folgendes Theorem zeigt eine Möglichkeit auf, die unkorrigierte empirische Varianz eines Datensatzes allein durch die Bestimmung von Mittelwerten zu bestimmen. Das Theorem findet seine analytische Entsprechung im Verschiebungssatz der Varianz, <span class="quarto-unresolved-ref">?thm-varianzverschiebungssatz</span>.</p>
<div id="thm-verschiebungssatz-der-unkorrigierten-empirische-varianz" class="theorem">
<p><span class="theorem-title"><strong>Theorem 10.6 (Verschiebungssatz zur unkorrigierten empirischen Varianz)</strong></span> <span class="math inline">\(y = (y_1,...,y_n)\)</span> sei ein Datensatz, <span class="math inline">\(y^2 := (y_1^2, ..., y_n^2)\)</span> sei sein elementweises Quadrat und <span class="math inline">\(\bar{y}\)</span> und <span class="math inline">\(\overline{y^2}\)</span> seien die respektiven Mittelwerte. Dann gilt <span class="math display">\[\begin{equation}
\tilde{s}^2 = \overline{y^2} - \bar{y}^2
\end{equation}\]</span></p>
</div>
<div class="proof">
<p><span class="proof-title"><em>Beweis</em>. </span><span class="math display">\[\begin{align}
\begin{split}
\tilde{s}^2
&amp; := \frac{1}{n}\sum_{i=1}^n (y_i - \bar{y})^2 \\
&amp;  = \frac{1}{n}\sum_{i=1}^n \left(y_i^2 - 2y_i \bar{y} +  \bar{y}^2\right) \\
&amp;  = \frac{1}{n}\sum_{i=1}^n y_i^2  - 2  \bar{y} \frac{1}{n}\sum_{i=1}^n y_i + \frac{1}{n}\sum_{i=1}^n \bar{y}^2 \\
&amp;  = \overline{y^2} - 2\bar{y}\bar{y} + \frac{1}{n}n\bar{y}^2 \\
&amp;  = \overline{y^2} - 2\bar{y}^2 + \bar{y}^2 \\
&amp;  = \overline{y^2} - \bar{y}^2.
\end{split}
\end{align}\]</span></p>
</div>
<p>Wir reproduzieren <span class="quarto-unresolved-ref">?thm-verschiebungssatz-der-empirischen-varianz</span> beispielhaft mithilfe folgenden <strong>R</strong> Codes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>y           <span class="ot">=</span> D<span class="sc">$</span>PRE                                                              <span class="co"># Pre-Interventions-BDI-II-Daten</span></span>
<span id="cb62-2"><a href="#cb62-2"></a>s2_tilde    <span class="ot">=</span> <span class="fu">mean</span>(y<span class="sc">^</span><span class="dv">2</span>) <span class="sc">-</span> (<span class="fu">mean</span>(y))<span class="sc">^</span><span class="dv">2</span>                                            <span class="co"># \bar{y^2} - \bar{y}^2</span></span>
<span id="cb62-3"><a href="#cb62-3"></a><span class="fu">cat</span>(<span class="st">"Korrigierte empirische Varianz nach Transformation : "</span>, <span class="fu">round</span>(s2z,<span class="dv">3</span>))       <span class="co"># Ausgabe</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Korrigierte empirische Varianz nach Transformation :  12.113</code></pre>
</div>
</div>
<p>Man beachte, dass dass der Verschiebungssatz der unkorrigierten empirischen Varianz für die empirische Varianz nicht zutrifft, da in diesem Fall der Multiplikationsfactor <span class="math inline">\(\frac{1}{n-1}\)</span> nicht auf die entsprechenden Mittelwerte führt. Insbesondere haben wir oben schon gesehen, dass für den betreffenden Beispieldatensatz gilt, dass <span class="math inline">\(s^2  = 3.028\)</span>.</p>
</section>
<section id="sec-empirische-standardabweichung" class="level3" data-number="10.6.3">
<h3 data-number="10.6.3" class="anchored" data-anchor-id="sec-empirische-standardabweichung"><span class="header-section-number">10.6.3</span> Empirische Standardabweichung</h3>
<p>Die empirische Varianz ergibt sich wie oben gesehen als durchschnittliches Abweichungsquadrat eines Datensatzwerte von seinem Mittelwert. Ist die Einheit des Datensatzes dabei zum Beispiel in einer Reaktionsszeitaufgabe die Millisekunde, so ergibt sich durch Differenzbildung und anschließende Quadrierung die Einheit Millisekunde<span class="math inline">\(^2\)</span>, eine nicht sehr intuitive Einheit. Um ein Streuungsmaß zu erhalten, dessen Einheit der Einheit des Ausgangsdatensatzes entspricht, wird auf die empirische Varianz häufig noch die Quadratwurzelfunktion angewendet. Dies führt auf den Begriff der <em>empirischen Standardabweichung</em>.</p>
<div id="def-empirische-standardabweichung" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.11 (Empirische Standardabweichung)</strong></span> <span class="math inline">\(y = (y_1,...,y_n)\)</span> sei ein Datensatz. Die <em>empirische Standardabweichung</em> von <span class="math inline">\(y\)</span> ist definiert als<br>
<span class="math display">\[\begin{equation}
s := \sqrt{s^2}
\end{equation}\]</span> und die <em>unkorrigierte empirische Stichprobenstandardabweichung</em> von <span class="math inline">\(y\)</span> ist definiert als <span class="math display">\[\begin{equation}
\tilde{s} := \sqrt{\tilde{s}^2}.
\end{equation}\]</span></p>
</div>
<p>In Analogie zu den Eigenschaften der empirischen Varianz und ihrer unkorrigierten Version kann auch die unkorrigierte empirischen Standardabweichung leicht in die empirischen Standardabweichung umgerechnet werden und umgekehrt, es gelten hier offenbar<br>
<span class="math display">\[\begin{equation}
\tilde{s} = \sqrt{\frac{n-1}{n}}s \mbox{ und } s = \sqrt{\frac{n}{n-1}}\tilde{s}.
\end{equation}\]</span></p>
<p>Folgender <strong>R</strong> Code demonstriert die Bestimmung der unkorrigierten empirischen Varianz und der empirischen Varianz anhand der in <a href="#def-empirische-standardabweichung" class="quarto-xref">Definition&nbsp;<span>10.11</span></a> festgelegten Formeln.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a>y   <span class="ot">=</span> D<span class="sc">$</span>PRE                                                                     <span class="co"># Pre-Interventions-BDI-II-Daten</span></span>
<span id="cb64-2"><a href="#cb64-2"></a>n   <span class="ot">=</span> <span class="fu">length</span>(y)                                                                 <span class="co"># Anzahl der Werte</span></span>
<span id="cb64-3"><a href="#cb64-3"></a>s   <span class="ot">=</span> <span class="fu">sqrt</span>((<span class="dv">1</span><span class="sc">/</span>(n<span class="dv">-1</span>))<span class="sc">*</span><span class="fu">sum</span>((y <span class="sc">-</span> <span class="fu">mean</span>(y))<span class="sc">^</span><span class="dv">2</span>))                                      <span class="co"># Standardabweichung</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Empirische Standardabweichung :  1.74</code></pre>
</div>
</div>
<p>Die <strong>R</strong> Funktion <code>sd()</code> bestimmt per default die empirische Varianz.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a>s   <span class="ot">=</span> <span class="fu">sd</span>(y)   </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Empirische Standardabweichung :  1.74</code></pre>
</div>
</div>
<p>Transformiert man einen Datensatz linear-affin, so geht die Multiplikationskonstante der Transformation lediglich im Sinne ihres Betrages in die Transformation der empirischen Standardabweichung ein. Dies ist die Aussage des folgenden Theorems.</p>
<div id="thm-empirische-standardabweichung-bei-linear-affinen-transformationen" class="theorem">
<p><span class="theorem-title"><strong>Theorem 10.7 (Empirische Standardabweichung bei linear-affinen Transformationen)</strong></span> <span class="math inline">\(y = (y_1,...,y_n)\)</span> sei ein Datensatz mit empirischer Standardabweichung <span class="math inline">\(s_y\)</span> und <span class="math inline">\(z = (az_1+b, ..., az_n+b)\)</span> sei der mit <span class="math inline">\(a,b \in \mathbb{R}\)</span> linear-affin transformierte Datensatz mit empirischer Standardabweichung <span class="math inline">\(s_z\)</span>. Dann gilt <span class="math display">\[\begin{equation}
s_z = |a| s_y.
\end{equation}\]</span></p>
</div>
<div class="proof">
<p><span class="proof-title"><em>Beweis</em>. </span><span class="math display">\[\begin{align}
\begin{split}
S_y
&amp; := \left(\frac{1}{n-1}\sum_{i=1}^n (y_i - \bar{y})^2\right)^{1/2}                         \\
&amp;  = \left(\frac{1}{n-1}\sum_{i=1}^n \left(ay_i + b - (a\bar{x} + b)\right)^2\right)^{1/2}  \\
&amp;  = \left(\frac{1}{n-1}\sum_{i=1}^n \left(a(y_i - \bar{x})\right)^2\right)^{1/2}           \\
&amp;  = \left(\frac{1}{n-1}\sum_{i=1}^n a^2(y_i - \bar{x})^2\right)^{1/2}                      \\
&amp;  = \left(a^2\right)^{1/2}\left(\frac{1}{n-1}\sum_{i=1}^n (y_i - \bar{x})^2\right)^{1/2}.
\end{split}
\end{align}\]</span> Also gilt <span class="math inline">\(S_z = aS_y\)</span>, wenn <span class="math inline">\(a \ge 0\)</span> und <span class="math inline">\(S_z = -aS_y\)</span>, wenn <span class="math inline">\(a &lt; 0\)</span>. Dies aber entspricht <span class="math inline">\(S_z = |a|S_y\)</span>.</p>
</div>
<p>Wir reproduzieren <a href="#thm-empirische-standardabweichung-bei-linear-affinen-transformationen" class="quarto-xref">Theorem&nbsp;<span>10.7</span></a> beispielhaft mithilfe folgenden <strong>R</strong> Codes einmal für den Fall <span class="math inline">\(a \ge 0\)</span> und einmal für den Fall <span class="math inline">\(a &lt; 0\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a><span class="co"># a &gt;= 0</span></span>
<span id="cb68-2"><a href="#cb68-2"></a>D       <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"./_data/111-deskriptive-statistik.csv"</span>)                     <span class="co"># Laden des Datensatzes</span></span>
<span id="cb68-3"><a href="#cb68-3"></a>y       <span class="ot">=</span> D<span class="sc">$</span>PRE                                                                 <span class="co"># Pre-Interventions-BDI-II-Daten</span></span>
<span id="cb68-4"><a href="#cb68-4"></a>a       <span class="ot">=</span> <span class="dv">2</span>                                                                     <span class="co"># Multiplikationskonstante</span></span>
<span id="cb68-5"><a href="#cb68-5"></a>b       <span class="ot">=</span> <span class="dv">5</span>                                                                     <span class="co"># Additionskonstante</span></span>
<span id="cb68-6"><a href="#cb68-6"></a>z       <span class="ot">=</span> a<span class="sc">*</span>y <span class="sc">+</span> b                                                               <span class="co"># y_i = ax_i + b</span></span>
<span id="cb68-7"><a href="#cb68-7"></a>sz      <span class="ot">=</span> <span class="fu">sd</span>(z)                                                                 <span class="co"># Korrigierte empirische Standardabweichung von y</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Empirische Standardabweichung von z_1,...z_n durch direkte Berechnung :  3.48</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a>sz      <span class="ot">=</span> a<span class="sc">*</span><span class="fu">sd</span>(y)                                                               <span class="co"># Korrigierte empirische Standardabweichung von y</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Empirische Standardabweichung von z_1,...z_n nach Theorem :  3.48</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a><span class="co"># a &lt; 0</span></span>
<span id="cb72-2"><a href="#cb72-2"></a>D       <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"./_data/111-deskriptive-statistik.csv"</span>)                     <span class="co"># Laden des Datensatzes</span></span>
<span id="cb72-3"><a href="#cb72-3"></a>y       <span class="ot">=</span> D<span class="sc">$</span>PRE                                                                 <span class="co"># Pre-Interventions-BDI-II-Daten</span></span>
<span id="cb72-4"><a href="#cb72-4"></a>a       <span class="ot">=</span> <span class="sc">-</span><span class="dv">3</span>                                                                    <span class="co"># Multiplikationskonstante</span></span>
<span id="cb72-5"><a href="#cb72-5"></a>b       <span class="ot">=</span> <span class="dv">10</span>                                                                    <span class="co"># Additionskonstante</span></span>
<span id="cb72-6"><a href="#cb72-6"></a>z       <span class="ot">=</span> a<span class="sc">*</span>y <span class="sc">+</span> b                                                               <span class="co"># y_i = ax_i + b</span></span>
<span id="cb72-7"><a href="#cb72-7"></a>sz      <span class="ot">=</span> <span class="fu">sd</span>(z)                                                                 <span class="co"># Korrigierte empirische Standardabweichung von y</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Empirische Standardabweichung nach Transformation :  5.221</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a>sz      <span class="ot">=</span> <span class="sc">-</span>a<span class="sc">*</span><span class="fu">sd</span>(y)                                                              <span class="co"># Korrigierte empirische Standardabweichung von y</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Empirische Standardabweichung nach Transformation :  5.221</code></pre>
</div>
</div>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-henze2018" class="csl-entry" role="listitem">
Henze, N. (2018). <em><span>Stochastik f<span>ü</span>r Einsteiger</span></em>. Springer Fachmedien Wiesbaden. <a href="https://doi.org/10.1007/978-3-658-22044-0">https://doi.org/10.1007/978-3-658-22044-0</a>
</div>
<div id="ref-huber1981" class="csl-entry" role="listitem">
Huber, P. J. (1981). <em>Robust Statistics</em>. Wiley.
</div>
<div id="ref-hyndman1996" class="csl-entry" role="listitem">
Hyndman, R. J., &amp; Fan, Y. (1996). Sample <span>Quantiles</span> in <span>Statistical Packages</span>. <em>The American Statistician</em>, <em>50</em>(4), 361. <a href="https://doi.org/10.2307/2684934">https://doi.org/10.2307/2684934</a>
</div>
<div id="ref-mcgill1978" class="csl-entry" role="listitem">
McGill, R., Tukey, J. W., &amp; Larsen, W. A. (1978). Variations of <span>Box Plots</span>. <em>The American Statistician</em>, <em>32</em>(1), 12. <a href="https://doi.org/10.2307/2683468">https://doi.org/10.2307/2683468</a>
</div>
<div id="ref-scott1979" class="csl-entry" role="listitem">
Scott, D. W. (1979). <em>On Optimal and Data-Based Histograms</em>. 6.
</div>
<div id="ref-sturges1926" class="csl-entry" role="listitem">
Sturges, H. A. (1926). The <span>Choice</span> of a <span>Class Interval</span>. <em>Journal of the American Statistical Association</em>, <em>21</em>(153), 65–66. <a href="https://doi.org/10.1080/01621459.1926.10502161">https://doi.org/10.1080/01621459.1926.10502161</a>
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./109-Matrizen.html" class="pagination-link" aria-label="Matrizen">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Matrizen</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Referenzen.html" class="pagination-link" aria-label="Referenzen">
        <span class="nav-page-text">Referenzen</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/dirk-ostwald/dirk-ostwald.github.io/tree/gh-pages/edit/main/110-Deskriptivstatistiken.qmd" class="toc-action"><i class="bi bi-github"></i>Seite editieren</a></li></ul></div></div></div></footer></body></html>